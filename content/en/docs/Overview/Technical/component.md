---
title: "Component View"
linkTitle: "Component"
weight: 1
date: 2021-06-30
description: A Component View of Axway Open Banking
---

The diagram below shows a component view of the Axway Open Banking solution.

![Component View](/Images/Component_View.jpg)

The table below provides details of each of the components listed above. The list includes for reference the name of the solution building block to which the component relates.

| Name | Solution Building Block | Purpose | Production Requirement | Notes |
| ---- | ----------------------- | ------- | ---------------------- | ----- |
| Ingress Controller | Utilities   | Provides the [means for an Ingress resource](https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/) to operate in the Kubernetes environment.<br><br>Responsible for terminating a mutually-authenticated TLS connection from a client application. This is implemented only on specific ingress (identity and one API traffic listener m-api.domain-name) | Conditional | Customers can make a choice of Ingress Controller but it must be capable of terminating a mutually-authenticated TLS connection. The Ingress Controller must also be capable of forwarding the certificate fingerprint as a HTTP header to Authorization Control Plane (ACP).<br><br>The NGINX Ingress Controller used in our proof-of-concept is not included our deployment package. |
| descheduler | Utilities | The descheduler pod is required to force Kubernetes to allocate pods between different pods after downscaling as Kubernetes does not respect the anti-affinity pod when it downscales the number of replicas.<br><br>If a descheduler is not used multiple api-traffic pods can be allocate on the same node and result in degraded performance. | Mandatory | This is component is not included in our deployment package. |
| cert-manager | Utilities | Used to generate and renew certificates from a CA and create DNZ zone records.<br><br>Certificates are created for both ingress and TBC. | Conditional | This component cannot be used as intended for DNS record creation when the Kubernetes cluster is deployed behind other components.<br><br>This is component is not included in our deployment package.|
| external-dns | Utilities   | Used to configure external DNS records for ingress. | Conditional | This component is not required if DNS configuration through cert-manager is not enabled.<br><br>Customers must use one of the supported providers listed in the [ExternalDNS project](https://github.com/kubernetes-sigs/external-dns).<br><br>This is component is not included in our deployment package.|
| fluentd | Utilities | Streams all standard output from containers to log store | Conditional | This component can be replaced by any tool with equivalent capabilities. It is not included in our deployment package. |
| Grafana | Utilities | Grafana is a tool that displays dashboard information from data sources in the Kubernetes stack. The information includes resources consumption, pod health checks, and so on. | Conditional | This component can be replaced by any tool with equivalent capabilities. It is not included in our deployment package. |
| Prometheus  | Utilities   | Monitoring tool for Kubernetes  | Conditional | This component can be replaced by any tool with equivalent capabilities. It is not included in our deployment package. |
| Admin Node Manager | API Management | | Mandatory | |
| API Manager | API Management | Management tool for API Management infrastructure | Mandatory | |
| API Traffic | API Management | Responsible for receiving and executing all requests from API consumers. | Mandatory | We recommend adapting the minimum sizing according to the estimated volumes per month. This will allow the pod autoscaler to adapt the number of pods during the peak load.<br><br>To support peak load and SLAs multiple replica must be used. In addition, the Horizontal Pod Autoscaler (HPA) must be activated (by default this is disabled).<br><br>The configuration of this component ensures each replica is spread across different nodes (anti-affinity node), which reduces IOPS.<br><br>These pods requires multiple services and ingress as they have multiple listeners.
| Filebeat | API Management | Filebeat uses the beat protocol to stream events logs to Logstash on the Analytics components. | Conditional | Filebeat is installed by default but you can remove this if you are not using the provided Analytics stack.<br><br>However, if you choose this route you will need to reconfigure the Metrics API to use your alternative data source. |
| DBCreate | API Management | Job that creates the schema in the monitoring MySQL database. | Conditional | Not required when MySQL database is deployed outside the cluster. |
| APIMCLI | API Management | Job that configures all API objects in the API Manager including users, settings, APIs, organizations, applications and so on. | Mandatory | This job is executed after each upgrade in order to ensure the API Manager is up-to-date.<br><br>All configurations are externalized in a Kubernetes config map to allow the API configuration to be updated by the installer as required.<br><br>API descriptions in both US English and Portuguese are available by default |
| Cassandra | API Management | Data store for API Manager configuration, throttling, and additional data. | Mandatory | 3 nodes are required in production that must be spread on different availability zones.<br><br>Only Cassandra 2.2.12 is supported and block usage of manage database in all cloud provider that support version 3.11. |
| MySQL Analytics | API Management | Provides storages for analytics captured through API Management. it's  used by API Gateway Manager for monitoring. | Mandatory | |
| webserver   | Analytics   | Webserver for Analytics | Conditional | Only required if customers are using the out-of-the-box ELK stack. |
| logstash    | Analytics   | Provides log collection and transformation capabilities | Conditional | You can choose to use your existing logstash infrastructure or an alternative solution if you wish. However you will be responsible for removing our Analytics component from our deployment package. |
| Kibana | Analytics   | 	Data vizualisation tooling that is implemented with dashboards for open banking. | Conditional | You can choose to use your existing Kibana infrastructure or an alternative solution if you wish. However you will be responsible for removing our Analytics component from our deployment package. |
| Elasticsearch | Analytics   | Analytics engine that powers the Kibana dashboards for open banking. | Conditional | You can choose to use your existing Kibana infrastructure or an alternative solution if you wish. However you will be responsible for removing our Analytics component from our deployment package. |
| open-banking-backend (multiple applications) | API Builder | The purpose of these applications is twofold:<br><ul><li>Provide a mock backend for use in your developer portal experience if you wish.</li><li>Provide the basis for integrating with the Customer's existing backend systems for production.</li></ul> | Conditional | The backend services provided by the open-banking-backend component are created using API Builder and are designed to be reconfigured for use with a your backend services to provide the data required for Open Banking.<br><br>You are free, however to swap these out for an application with equivalent functionality if you wish. Note that if this course of action is taken then the benefit of providing an application that is designed to be compliant with the relevant standards/OpenAPI specification is lost. |
| MySQL Backend Services | Utilities | Provides storage for mock backend services. | Conditional | Provides storage for backend services where the API Builder applications are using the default configuration. This does not need to be deployed if the backend services APIs are integrated with the Core Banking Applications. |
| acp | Identity Management<br><br>Consent Management | Authorization Control Plane from Cloudentity that provides:<br><ul><li>Authorization Server.</li><li>Token endpoint.</li><li>Management and configuration UI.</li></ul> | Mandatory | The Authorization Control Plane is required to provide:<br><ul><li>Compliance with the Brazil FAPI Security Profile</li><li>Integration with Consent Management to support Open Banking Brazil standards</li><li>Integration with external IDPs already implemented by customers.</li></ul> |
| acp-seed | Identity Management | Job to implement the default configuration for Cloudentity. | Mandatory | This is required as it it creates the configuration that connects Cloudentity and the API Portal. |
| bank | Consent Management | Open banking sandbox for use demo applications. | Optional | As this is only provides demo capabilities it is not required for production. |
| consent admin | Consent Management | Consent administration application. | Mandatory | Provides the consent adminstration pages. |
| consent self-service | Consent Management | Consent self-service application | Mandatory | |
| consent page | Consent Management | Consent confirmation page | Optional | As an alternative to deploying the consent page are at liberty to take one of two courses of action:<br><ul><li>Use the Cloudentity web component from the open banking quickstart project [hosted on GitHub](https://github.com/cloudentity/openbanking-quickstart/tree/master/consent/consent-page/assets).</li><li>Develop their own web component and call Cloudentity APIs to perform consent operations.</li></ul> |
| Hazelcast | Identity Management<br><br>Consent Management | In-memory data grid that supports the operation of Authorization Control Plane. | Mandatory   | |
| Cockroachdb | Identity Management<br><br>Consent Management | Backend storage for Authorization Control Plane. | Mandatory | |
| API Portal  | API Portal | API Portal runtime with open banking template. | Conditional | You can use an existing Axway API Portal instance if you wish, but it should be noted that deployment to an existing API Portal of the open banking template is not supported in our Helm charts. |
| MySQL Portal | API Portal | Backend storage for API Portal. | Conditional | Not required if you chooses to use an existing Axway API Portal instance. |
| open-banking-bankio-apps (multiple applications) | API Portal | Delivers a rich developer experience through interactive demo applications. These are implemented as iframes within the open banking API Portal template. | Optional | You can choose to deploy the Bankio applications as you see fit. Please note however that you will be responsible from removing them from the supplied API Portal template if you choose note to deploy them |
| MongoDB | API Portal | Backend storage for open-banking-bankio-apps. | Conditional | Only required if open-banking-bankio-apps are implemented. |