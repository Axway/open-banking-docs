<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="6947px" preserveAspectRatio="none" style="width:2104px;height:6947px;background:#FFFFFF;" version="1.1" viewBox="0 0 2104 6947" width="2104px" zoomAndPan="magnify"><defs><style type="text/css">@import url('https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic');</style></defs><g><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="3" x="1046.5" y="27.9883">&#160;</text><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="3" x="1046.5" y="44.3945">&#160;</text><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="3" x="1046.5" y="60.8008">&#160;</text><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="3" x="1046.5" y="77.207">&#160;</text><rect fill="#6FA8DC" height="6841.7148" style="stroke:#181818;stroke-width:0.5;" width="754.5" x="293" y="92.625"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127" x="605.25" y="104.6855">Amplify Open Banking</text><rect fill="#94C47D" height="6841.7148" style="stroke:#181818;stroke-width:0.5;" width="312" x="1180" y="92.625"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="159" x="1255" y="104.6855">Identity and Access Control</text><rect fill="none" height="451.1094" style="stroke:#000000;stroke-width:1.5;" width="661.5" x="1409" y="3495.0352"/><rect fill="none" height="324.1719" style="stroke:#000000;stroke-width:1.5;" width="612.5" x="1448" y="3614.9727"/><rect fill="none" height="1400.2734" style="stroke:#000000;stroke-width:1.5;" width="1778" x="10" y="4653.1758"/><rect fill="none" height="276.7031" style="stroke:#000000;stroke-width:1.5;" width="1758" x="20" y="4758.3477"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="68" x2="68" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="332" x2="332" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="586" x2="586" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="801.5" x2="801.5" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="964.5" x2="964.5" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1219" x2="1219" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1453" x2="1453" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1574" x2="1574" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1709" x2="1709" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1812" x2="1812" y1="176.3242" y2="6940.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2055" x2="2055" y1="176.3242" y2="6940.3398"/><rect fill="#E2E2F0" height="63.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="30" y="111.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="53" y="132.3945">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="37" y="148.8828">Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="54.5" y="165.3711">App</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="297" y="128.3477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="321.5" y="148.8828">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="304" y="165.3711">Gateway</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="535" y="128.3477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="558" y="148.8828">Consent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="542" y="165.3711">Management</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="746.5" y="128.3477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="753.5" y="148.8828">Core Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="765.5" y="165.3711">Connector</text><rect fill="#E2E2F0" height="63.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="885.5" y="111.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="892.5" y="132.3945">Identity Management</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="952.5" y="148.8828">---</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="893.5" y="165.3711">Authorization Server</text><rect fill="#E2E2F0" height="63.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="1184" y="111.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1192" y="132.3945">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1194" y="148.8828">Identity</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1191" y="165.3711">Provider</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="1419" y="128.3477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1426" y="148.8828">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1426" y="165.3711">Systems</text><rect fill="#E2E2F0" height="79.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="1508" y="95.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1526.5" y="115.9063">Open Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1543.5" y="132.3945">Directory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="1562.5" y="148.8828">---</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1515" y="165.3711">JSON Web Key Set</text><rect fill="#E2E2F0" height="79.9531" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1651" y="95.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1674.5" y="115.9063">Certificate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1677.5" y="132.3945">Authority</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="1697.5" y="148.8828">---</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1658" y="165.3711">OCSP Endpoint</text><rect fill="#E2E2F0" height="63.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="1778" y="111.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="1789.5" y="132.3945">Mobile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1785" y="148.8828">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1798.5" y="165.3711">App</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2019" y="173.3711">Customer</text><ellipse cx="2055.5" cy="108.3359" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M2055.5,116.3359 L2055.5,143.3359 M2042.5,124.3359 L2068.5,124.3359 M2055.5,143.3359 L2042.5,158.3359 M2055.5,143.3359 L2068.5,158.3359 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2097" x="0" y="206.9414"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="206.9414" y2="206.9414"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="209.9414" y2="209.9414"/><rect fill="#EEEEEE" height="23.2344" style="stroke:#000000;stroke-width:2.0;" width="306" x="895.5" y="196.3242"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="289" x="901.5" y="212.3848">Part 0: Registration of Token Delivery Preferences</text><path d="M73,234.5586 L73,488.5586 L491,488.5586 L491,244.5586 L481,234.5586 L73,234.5586 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M481,234.5586 L481,244.5586 L491,244.5586 L481,234.5586 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="344" x="79" y="251.6191">CIBA requires that Clients register a delivery mode prior to the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="257" x="79" y="266.8535">transmission of any Authentication Requests:</text><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="272.0273" y2="272.0273"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="272.0273" y2="272.0273"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="272.0273" y2="272.0273"/><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" target="_top" title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" xlink:actuate="onRequest" xlink:href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" xlink:show="new" xlink:title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" xlink:type="simple"><text fill="#0000FF" font-family="Roboto" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="383" x="79" y="286.0879">Clients registering to use CIBA MUST indicate a token delivery mode</text></a><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="291.2617" y2="291.2617"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="291.2617" y2="291.2617"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="291.2617" y2="291.2617"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="358" x="79" y="305.3223">The Authorization Server (AS) therefore must host a registration</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="343" x="79" y="320.5566">endpoint - defined in the discoverable OpenID Configuration -</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="328" x="79" y="335.791">that allows the Client to do so. The parameters for this call</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="339" x="79" y="351.0254">are described in the CIBA specification and differ depending</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="240" x="79" y="366.2598">on the method in question. The modes are:</text><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="371.4336" y2="371.4336"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="371.4336" y2="371.4336"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="371.4336" y2="371.4336"/><ellipse cx="84.5" cy="381.168" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="91" y="385.4941">Poll</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="183" x="112" y="385.4941">: Client polls the Token endpoint.</text><ellipse cx="84.5" cy="396.4023" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="91" y="400.7285">Ping</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="282" x="116" y="400.7285">: AS notifies, Client retrieves from Token endpoint.</text><ellipse cx="84.5" cy="411.6367" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="91" y="415.9629">Push</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="154" x="120" y="415.9629">: AS sends tokens to Client.</text><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="421.1367" y2="421.1367"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="421.1367" y2="421.1367"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="421.1367" y2="421.1367"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="392" x="79" y="435.1973">The supported modes vary by AS as they are implementor specific i.e.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="393" x="79" y="450.4316">implementors of the AS can choose to only support one-or-more given</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="397" x="79" y="465.666">modes. The supported modes must be made pushed in the AS OpenID</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="79" x="79" y="480.9004">Configuration.</text><polygon fill="#181818" points="320.5,511.207,330.5,515.207,320.5,519.207,324.5,515.207" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="515.207" y2="515.207"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="176" x="75.5" y="510.1411">POST&#160;/connect/register</text><path d="M337,528.207 L337,629.207 L680,629.207 L680,538.207 L670,528.207 L337,528.207 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M670,528.207 L670,538.207 L680,538.207 L670,528.207 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="225" x="343" y="545.2676">The API Gateway is responsible for TLS</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="322" x="343" y="560.502">termination and perfoming an OCSP call to the Certificate</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="295" x="343" y="575.7363">Authority to ensure the client certificate presented is</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="312" x="343" y="590.9707">valid. The fingerprint of the certificate will be forwarded</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="319" x="343" y="606.2051">to Identity Management to verify the validity of the OAuth</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="243" x="343" y="621.4395">Client as this cannot be asserted via OCSP.</text><polygon fill="#181818" points="1697.5,651.8477,1707.5,655.8477,1697.5,659.8477,1701.5,655.8477" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="655.8477" y2="655.8477"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="650.6738">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,681.082,333.5,685.082,343.5,689.082,339.5,685.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="685.082" y2="685.082"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="679.9082">Response</text><polygon fill="#181818" points="952.5,710.3164,962.5,714.3164,952.5,718.3164,956.5,714.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="714.3164" y2="714.3164"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="118" x="339.5" y="709.1426">Registration Request</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="743.5508" y2="743.5508"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="743.5508" y2="756.5508"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="756.5508" y2="756.5508"/><polygon fill="#181818" points="975.5,752.5508,965.5,756.5508,975.5,760.5508,971.5,756.5508" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="68" x="971.5" y="738.377">Verify Client</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="785.7852" y2="785.7852"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="785.7852" y2="798.7852"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="798.7852" y2="798.7852"/><polygon fill="#181818" points="975.5,794.7852,965.5,798.7852,975.5,802.7852,971.5,798.7852" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="134" x="971.5" y="780.6113">Store Client Parameters</text><polygon fill="#181818" points="343.5,824.0195,333.5,828.0195,343.5,832.0195,339.5,828.0195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="828.0195" y2="828.0195"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="822.8457">Response</text><polygon fill="#181818" points="79.5,853.2539,69.5,857.2539,79.5,861.2539,75.5,857.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="857.2539" y2="857.2539"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="85.5" y="852.0801">Response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2097" x="0" y="885.8711"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="885.8711" y2="885.8711"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="888.8711" y2="888.8711"/><rect fill="#EEEEEE" height="23.2344" style="stroke:#000000;stroke-width:2.0;" width="340" x="878.5" y="875.2539"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="323" x="884.5" y="891.3145">Part 1: Create Consent and Send Authentication Request</text><path d="M73,913.4883 L73,983.4883 L419,983.4883 L419,923.4883 L409,913.4883 L73,913.4883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M409,913.4883 L409,923.4883 L419,923.4883 L409,913.4883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="322" x="79" y="930.5488">The Data Recipient App requests an Access Token using</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="325" x="79" y="945.7832">the Client Credentials grant type. Nominally authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="301" x="79" y="961.0176">is through Mutual Authentication over TLS but it could</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="91" x="79" y="976.252">equally be using</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="120" x="173" y="976.3599">private_key_jwt</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="3" x="293" y="976.252">.</text><polygon fill="#181818" points="320.5,1006.5586,330.5,1010.5586,320.5,1014.5586,324.5,1010.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="1010.5586" y2="1010.5586"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="75.5" y="1005.4927">POST&#160;/oauth2/token</text><polygon fill="#181818" points="1697.5,1035.793,1707.5,1039.793,1697.5,1043.793,1701.5,1039.793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="1039.793" y2="1039.793"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="1034.6191">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,1065.0273,333.5,1069.0273,343.5,1073.0273,339.5,1069.0273" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="1069.0273" y2="1069.0273"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="1063.8535">Response</text><polygon fill="#181818" points="952.5,1094.1602,962.5,1098.1602,952.5,1102.1602,956.5,1098.1602" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="1098.1602" y2="1098.1602"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="339.5" y="1093.0942">POST&#160;/oauth2/token</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="1127.3945" y2="1127.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="1127.3945" y2="1140.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="1140.3945" y2="1140.3945"/><polygon fill="#181818" points="975.5,1136.3945,965.5,1140.3945,975.5,1144.3945,971.5,1140.3945" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="68" x="971.5" y="1122.2207">Verify Client</text><polygon fill="#181818" points="343.5,1180.6602,333.5,1184.6602,343.5,1188.6602,339.5,1184.6602" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="1184.6602" y2="1184.6602"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="48" x="349.5" y="1164.4614">200&#160;OK</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="184" x="349.5" y="1179.5942">{"access_token":&#160;"..."}</text><polygon fill="#181818" points="79.5,1224.9258,69.5,1228.9258,79.5,1232.9258,75.5,1228.9258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="1228.9258" y2="1228.9258"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="48" x="85.5" y="1208.7271">200&#160;OK</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="184" x="85.5" y="1223.8599">{"access_token":&#160;"..."}</text><path d="M73,1241.9258 L73,1311.9258 L429,1311.9258 L429,1251.9258 L419,1241.9258 L73,1241.9258 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M419,1241.9258 L419,1251.9258 L429,1251.9258 L419,1241.9258 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="335" x="79" y="1258.9863">With the Access Token in hand the Data Recipient can then</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="322" x="79" y="1274.2207">create the consent resource. This needs to be completed</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="300" x="79" y="1289.4551">before the Authentication Request as the value of the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="79" y="1304.7974">consentId</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="225" x="154" y="1304.6895">is required to set the value of the scope.</text><polygon fill="#181818" points="320.5,1334.9961,330.5,1338.9961,320.5,1342.9961,324.5,1338.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="1338.9961" y2="1338.9961"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="208" x="75.5" y="1333.9302">POST&#160;/payments/v1/consents</text><polygon fill="#181818" points="1697.5,1364.2305,1707.5,1368.2305,1697.5,1372.2305,1701.5,1368.2305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="1368.2305" y2="1368.2305"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="1363.0566">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,1393.4648,333.5,1397.4648,343.5,1401.4648,339.5,1397.4648" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="1397.4648" y2="1397.4648"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="1392.291">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="374.5" y1="1426.5977" y2="1426.5977"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.5" x2="374.5" y1="1426.5977" y2="1439.5977"/><line style="stroke:#181818;stroke-width:1.0;" x1="333.5" x2="374.5" y1="1439.5977" y2="1439.5977"/><polygon fill="#181818" points="343.5,1435.5977,333.5,1439.5977,343.5,1443.5977,339.5,1439.5977" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="208" x="339.5" y="1421.5317">POST&#160;/payments/v1/consents</text><polygon fill="#181818" points="574.5,1464.7305,584.5,1468.7305,574.5,1472.7305,578.5,1468.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="580.5" y1="1468.7305" y2="1468.7305"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="208" x="339.5" y="1463.6646">POST&#160;/payments/v1/consents</text><line style="stroke:#181818;stroke-width:1.0;" x1="586.5" x2="628.5" y1="1497.9648" y2="1497.9648"/><line style="stroke:#181818;stroke-width:1.0;" x1="628.5" x2="628.5" y1="1497.9648" y2="1510.9648"/><line style="stroke:#181818;stroke-width:1.0;" x1="587.5" x2="628.5" y1="1510.9648" y2="1510.9648"/><polygon fill="#181818" points="597.5,1506.9648,587.5,1510.9648,597.5,1514.9648,593.5,1510.9648" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="201" x="593.5" y="1492.791">Validate consent request properties</text><polygon fill="#181818" points="343.5,1551.332,333.5,1555.332,343.5,1559.332,339.5,1555.332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="585.5" y1="1555.332" y2="1555.332"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="349.5" y="1535.0317">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="349.5" y="1550.2661">{consentId:&#160;"..."}</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="86" x="493.5" y="1550.1582">API_GATEWAY</text><polygon fill="#181818" points="79.5,1595.5977,69.5,1599.5977,79.5,1603.5977,75.5,1599.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="1599.5977" y2="1599.5977"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="85.5" y="1579.3989">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="85.5" y="1594.5317">{consentId:&#160;"..."}</text><path d="M73,1612.5977 L73,1667.5977 L478,1667.5977 L478,1622.5977 L468,1612.5977 L73,1612.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M468,1612.5977 L468,1622.5977 L478,1622.5977 L468,1612.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="384" x="79" y="1629.6582">The Data Recipient App can now create and send the Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="352" x="79" y="1644.8926">Request. This includes the dynamic scope that holds the value</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="33" x="79" y="1660.127">of the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="115" y="1660.2349">consentId</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="189" x="190" y="1660.127">returned by Identity Management.</text><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="110.5" y1="1694.5352" y2="1694.5352"/><line style="stroke:#181818;stroke-width:1.0;" x1="110.5" x2="110.5" y1="1694.5352" y2="1707.5352"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="110.5" y1="1707.5352" y2="1707.5352"/><polygon fill="#181818" points="79.5,1703.5352,69.5,1707.5352,79.5,1711.5352,75.5,1707.5352" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="172" x="75.5" y="1689.3613">Create Authentication Request</text><polygon fill="#181818" points="320.5,1732.668,330.5,1736.668,320.5,1740.668,324.5,1736.668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="1736.668" y2="1736.668"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="75.5" y="1731.6021">POST&#160;/bc-authorize</text><polygon fill="#181818" points="1697.5,1761.9023,1707.5,1765.9023,1697.5,1769.9023,1701.5,1765.9023" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="1765.9023" y2="1765.9023"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="1760.7285">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,1791.1367,333.5,1795.1367,343.5,1799.1367,339.5,1795.1367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="1795.1367" y2="1795.1367"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="1789.9629">Response</text><polygon fill="#181818" points="952.5,1820.2695,962.5,1824.2695,952.5,1828.2695,956.5,1824.2695" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="1824.2695" y2="1824.2695"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="339.5" y="1819.2036">POST&#160;/bc-authorize</text><path d="M969,1837.2695 L969,1923.2695 L1402,1923.2695 L1402,1847.2695 L1392,1837.2695 L969,1837.2695 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1392,1837.2695 L1392,1847.2695 L1402,1847.2695 L1392,1837.2695 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="347" x="975" y="1854.3301">As with the redirection-based FAPI profiles the Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="330" x="975" y="1869.5645">Request is a JSON Web Signature. It therefore needs to be</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="339" x="975" y="1884.7988">checked for validity. Note that in the context of CIBA Pushed</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="380" x="975" y="1900.0332">Authorization Request is not required as the Authentication Request</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="412" x="975" y="1915.2676">is always sent via a secured backchannel and never through the browser.</text><polygon fill="#181818" points="1562.5,1945.6758,1572.5,1949.6758,1562.5,1953.6758,1566.5,1949.6758" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1568.5" y1="1949.6758" y2="1949.6758"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="131" x="971.5" y="1944.502">Get JSON Web Key Set</text><polygon fill="#181818" points="975.5,1974.9102,965.5,1978.9102,975.5,1982.9102,971.5,1978.9102" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="969.5" x2="1573.5" y1="1978.9102" y2="1978.9102"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="981.5" y="1973.7363">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="2023.3789" y2="2023.3789"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="2023.3789" y2="2036.3789"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="2036.3789" y2="2036.3789"/><polygon fill="#181818" points="975.5,2032.3789,965.5,2036.3789,975.5,2040.3789,971.5,2036.3789" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="121" x="971.5" y="2002.9707">Match Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="108" x="971.5" y="2018.2051">Request parameter</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="1082.5" y="2018.313">kid</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="2080.8477" y2="2080.8477"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="2080.8477" y2="2093.8477"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="2093.8477" y2="2093.8477"/><polygon fill="#181818" points="975.5,2089.8477,965.5,2093.8477,975.5,2097.8477,971.5,2093.8477" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="118" x="971.5" y="2060.4395">Verify Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="164" x="971.5" y="2075.6738">Request parameter signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="2123.082" y2="2123.082"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="2123.082" y2="2136.082"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="2136.082" y2="2136.082"/><polygon fill="#181818" points="975.5,2132.082,965.5,2136.082,975.5,2140.082,971.5,2136.082" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="181" x="971.5" y="2117.9082">Validate Authentication Request</text><path d="M969,2149.082 L969,2204.082 L1278,2204.082 L1278,2159.082 L1268,2149.082 L969,2149.082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1268,2149.082 L1268,2159.082 L1278,2159.082 L1268,2149.082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="287" x="975" y="2166.1426">Note this approach is non-normative and the actual</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="288" x="975" y="2181.377">implementation required should be considered on a</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="114" x="975" y="2196.6113">case-by-case basis.</text><polygon fill="#181818" points="1207.5,2227.0195,1217.5,2231.0195,1207.5,2235.0195,1211.5,2231.0195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1213.5" y1="2231.0195" y2="2231.0195"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="231" x="971.5" y="2225.8457">Send Authentication Request notification</text><polygon fill="#181818" points="343.5,2271.2852,333.5,2275.2852,343.5,2279.2852,339.5,2275.2852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="2275.2852" y2="2275.2852"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="349.5" y="2255.0864">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="160" x="349.5" y="2270.2192">{auth_req_id:&#160;"..."}</text><polygon fill="#181818" points="79.5,2315.5508,69.5,2319.5508,79.5,2323.5508,75.5,2319.5508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="2319.5508" y2="2319.5508"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="85.5" y="2299.3521">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="160" x="85.5" y="2314.4849">{auth_req_id:&#160;"..."}</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2097" x="0" y="2348.168"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="2348.168" y2="2348.168"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="2351.168" y2="2351.168"/><rect fill="#EEEEEE" height="23.2344" style="stroke:#000000;stroke-width:2.0;" width="328" x="884.5" y="2337.5508"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="311" x="890.5" y="2353.6113">Part 2: Customer Authenticates at Mobile Banking App</text><path d="M1224,2375.7852 L1224,2461.7852 L1565,2461.7852 L1565,2385.7852 L1555,2375.7852 L1224,2375.7852 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1555,2375.7852 L1555,2385.7852 L1565,2385.7852 L1555,2375.7852 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="306" x="1230" y="2392.8457">The flow shown is a hypothetical approach to allowing</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="320" x="1230" y="2408.0801">the End User to authenticate and confirm consent. In this</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="313" x="1230" y="2423.3145">scenario has installed their mobile banking app and can</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="319" x="1230" y="2438.5488">receive and act-on a request to authenticate and confirm</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="49" x="1230" y="2453.7832">consent.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1261.5" y1="2503.4258" y2="2503.4258"/><line style="stroke:#181818;stroke-width:1.0;" x1="1261.5" x2="1261.5" y1="2503.4258" y2="2516.4258"/><line style="stroke:#181818;stroke-width:1.0;" x1="1220.5" x2="1261.5" y1="2516.4258" y2="2516.4258"/><polygon fill="#181818" points="1230.5,2512.4258,1220.5,2516.4258,1230.5,2520.4258,1226.5,2516.4258" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="136" x="1226.5" y="2483.0176">Correlate Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="132" x="1226.5" y="2498.252">Request with Customer</text><polygon fill="#181818" points="1441.5,2541.6602,1451.5,2545.6602,1441.5,2549.6602,1445.5,2545.6602" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1447.5" y1="2545.6602" y2="2545.6602"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="210" x="1226.5" y="2540.4863">Trigger push notification to Customer</text><path d="M1458,2558.6602 L1458,2613.6602 L1765,2613.6602 L1765,2568.6602 L1755,2558.6602 L1458,2558.6602 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1755,2558.6602 L1755,2568.6602 L1765,2568.6602 L1755,2558.6602 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="286" x="1464" y="2575.7207">The push notification needs to carry some context.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="93" x="1464" y="2590.9551">For example, the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="1560" y="2591.063">consentId</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="81" x="1635" y="2590.9551">- to require the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="192" x="1464" y="2606.1895">consent to be correlated correctly.</text><polygon fill="#181818" points="1800.5,2636.5977,1810.5,2640.5977,1800.5,2644.5977,1804.5,2640.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1453.5" x2="1806.5" y1="2640.5977" y2="2640.5977"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="254" x="1460.5" y="2635.4238">Send push notification to mobile banking app</text><polygon fill="#181818" points="2043.5,2665.832,2053.5,2669.832,2043.5,2673.832,2047.5,2669.832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1812.5" x2="2049.5" y1="2669.832" y2="2669.832"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="92" x="1819.5" y="2664.6582">Notify Customer</text><polygon fill="#181818" points="1823.5,2695.0664,1813.5,2699.0664,1823.5,2703.0664,1819.5,2699.0664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1817.5" x2="2054.5" y1="2699.0664" y2="2699.0664"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="89" x="1829.5" y="2693.8926">Tap notification</text><polygon fill="#181818" points="2043.5,2739.5352,2053.5,2743.5352,2043.5,2747.5352,2047.5,2743.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1812.5" x2="2049.5" y1="2743.5352" y2="2743.5352"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="103" x="1819.5" y="2723.127">Request biometric</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="131" x="1819.5" y="2738.3613">gesture to authenticate</text><polygon fill="#181818" points="1823.5,2784.0039,1813.5,2788.0039,1823.5,2792.0039,1819.5,2788.0039" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1817.5" x2="2054.5" y1="2788.0039" y2="2788.0039"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="100" x="1829.5" y="2767.5957">Present biometric</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="43" x="1829.5" y="2782.8301">gesture</text><path d="M1224,2801.0039 L1224,2921.0039 L1592,2921.0039 L1592,2811.0039 L1582,2801.0039 L1224,2801.0039 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1582,2801.0039 L1582,2811.0039 L1592,2811.0039 L1582,2801.0039 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="330" x="1230" y="2818.0645">As with the majority of mobile banking apps authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="345" x="1230" y="2833.2988">in this example is outsourced to the mobile operating system.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="347" x="1230" y="2848.5332">Once the customer has authenticated the mobile banking app</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="331" x="1230" y="2863.7676">simply sends a "user authenticated" notification to the IDP.</text><line style="stroke:#000000;stroke-width:0.5;" x1="1230" x2="1230" y1="2868.9414" y2="2868.9414"/><line style="stroke:#000000;stroke-width:0.5;" x1="1230" x2="1230" y1="2868.9414" y2="2868.9414"/><line style="stroke:#000000;stroke-width:0.5;" x1="1230" x2="1230" y1="2868.9414" y2="2868.9414"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="318" x="1230" y="2883.002">This flow is non-normative, implementation-specific and</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="325" x="1230" y="2898.2363">would be created based on the implementors architecture</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="89" x="1230" y="2913.4707">and technology.</text><polygon fill="#181818" points="1230.5,2943.8789,1220.5,2947.8789,1230.5,2951.8789,1226.5,2947.8789" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1224.5" x2="1811.5" y1="2947.8789" y2="2947.8789"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="174" x="1236.5" y="2942.7051">User authenticated notification</text><polygon fill="#181818" points="1800.5,2973.1133,1810.5,2977.1133,1800.5,2981.1133,1804.5,2977.1133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1219.5" x2="1806.5" y1="2977.1133" y2="2977.1133"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="106" x="1226.5" y="2971.9395">Acknowledgement</text><polygon fill="#181818" points="1464.5,3002.3477,1454.5,3006.3477,1464.5,3010.3477,1460.5,3006.3477" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1458.5" x2="1811.5" y1="3006.3477" y2="3006.3477"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="161" x="1470.5" y="3001.1738">Request Customer accounts</text><polygon fill="#181818" points="1800.5,3031.582,1810.5,3035.582,1800.5,3039.582,1804.5,3035.582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1453.5" x2="1806.5" y1="3035.582" y2="3035.582"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="1460.5" y="3030.4082">Response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2097" x="0" y="3064.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="3064.1992" y2="3064.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="3067.1992" y2="3067.1992"/><rect fill="#EEEEEE" height="23.2344" style="stroke:#000000;stroke-width:2.0;" width="344" x="876.5" y="3053.582"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="327" x="882.5" y="3069.6426">Part 3: Customer Confirms Consent and Selects Account</text><path d="M1423,3091.8164 L1423,3211.8164 L1807,3211.8164 L1807,3101.8164 L1797,3091.8164 L1423,3091.8164 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1797,3091.8164 L1797,3101.8164 L1807,3101.8164 L1797,3091.8164 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="345" x="1429" y="3108.877">As Consent needs to be retrieved from a hostile security zone</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="335" x="1429" y="3124.1113">i.e. from a Customer's mobile device the request to Consent</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="340" x="1429" y="3139.3457">Management should be routed via the Ingress Controller/API</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="341" x="1429" y="3154.5801">Gateway. This flow is implementation-specific and would be</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="363" x="1429" y="3169.8145">created based on the implementors architecture and technology.</text><line style="stroke:#000000;stroke-width:0.5;" x1="1429" x2="1429" y1="3174.9883" y2="3174.9883"/><line style="stroke:#000000;stroke-width:0.5;" x1="1429" x2="1429" y1="3174.9883" y2="3174.9883"/><line style="stroke:#000000;stroke-width:0.5;" x1="1429" x2="1429" y1="3174.9883" y2="3174.9883"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="275" x="1429" y="3189.0488">In this example the Customer is the sole account</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="328" x="1429" y="3204.2832">holder and therefore no further authorizations are required.</text><polygon fill="#181818" points="343.5,3234.6914,333.5,3238.6914,343.5,3242.6914,339.5,3238.6914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="337.5" x2="1811.5" y1="3238.6914" y2="3238.6914"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="95" x="349.5" y="3233.5176">Retrieve consent</text><polygon fill="#181818" points="574.5,3263.9258,584.5,3267.9258,574.5,3271.9258,578.5,3267.9258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="580.5" y1="3267.9258" y2="3267.9258"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="95" x="339.5" y="3262.752">Retrieve consent</text><line style="stroke:#181818;stroke-width:1.0;" x1="586.5" x2="628.5" y1="3297.1602" y2="3297.1602"/><line style="stroke:#181818;stroke-width:1.0;" x1="628.5" x2="628.5" y1="3297.1602" y2="3310.1602"/><line style="stroke:#181818;stroke-width:1.0;" x1="587.5" x2="628.5" y1="3310.1602" y2="3310.1602"/><polygon fill="#181818" points="597.5,3306.1602,587.5,3310.1602,597.5,3314.1602,593.5,3310.1602" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="96" x="593.5" y="3291.9863">Retrieve Consent</text><polygon fill="#181818" points="343.5,3335.3945,333.5,3339.3945,343.5,3343.3945,339.5,3339.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="585.5" y1="3339.3945" y2="3339.3945"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="3334.2207">Response</text><polygon fill="#181818" points="1800.5,3364.6289,1810.5,3368.6289,1800.5,3372.6289,1804.5,3368.6289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332.5" x2="1806.5" y1="3368.6289" y2="3368.6289"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="339.5" y="3363.4551">Response</text><path d="M1458,3381.6289 L1458,3482.6289 L1945,3482.6289 L1945,3391.6289 L1935,3381.6289 L1458,3381.6289 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1935,3381.6289 L1935,3391.6289 L1945,3391.6289 L1935,3381.6289 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="466" x="1464" y="3398.6895">The Consent Confirmation screen requires the following properties to be displayed:</text><ellipse cx="1469.5" cy="3409.5977" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="106" x="1476" y="3413.9238">Transaction Value.</text><ellipse cx="1469.5" cy="3424.832" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="254" x="1476" y="3429.1582">Recipient details (name, in Brazil CPF/CNPJ).</text><ellipse cx="1469.5" cy="3440.0664" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="83" x="1476" y="3444.3926">Payment Date.</text><ellipse cx="1469.5" cy="3455.3008" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="322" x="1476" y="3459.627">Payment method (for example, in Brazil it is fixed as PIX).</text><ellipse cx="1469.5" cy="3470.5352" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="230" x="1476" y="3474.8613">Fee amount charged by the bank (if any).</text><path d="M1409,3495.0352 L1473,3495.0352 L1473,3502.2695 L1463,3512.2695 L1409,3512.2695 L1409,3495.0352 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="451.1094" style="stroke:#000000;stroke-width:1.5;" width="661.5" x="1409" y="3495.0352"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1424" y="3508.0957">par</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171" x="1488" y="3507.2402">[Request fee amount for payment]</text><path d="M1458,3517.2695 L1458,3542.2695 L1831,3542.2695 L1831,3527.2695 L1821,3517.2695 L1458,3517.2695 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1821,3517.2695 L1821,3527.2695 L1831,3527.2695 L1821,3517.2695 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="352" x="1464" y="3534.3301">Fees for payment must be provided from the Banking Systems</text><polygon fill="#181818" points="1464.5,3564.7383,1454.5,3568.7383,1464.5,3572.7383,1460.5,3568.7383" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1458.5" x2="1811.5" y1="3568.7383" y2="3568.7383"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="115" x="1470.5" y="3563.5645">Request fee amount</text><polygon fill="#181818" points="1800.5,3593.9727,1810.5,3597.9727,1800.5,3601.9727,1804.5,3597.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1453.5" x2="1806.5" y1="3597.9727" y2="3597.9727"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="1460.5" y="3592.7988">Response</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1409" x2="2070.5" y1="3606.9727" y2="3606.9727"/><path d="M1448,3614.9727 L1507,3614.9727 L1507,3622.207 L1497,3632.207 L1448,3632.207 L1448,3614.9727 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="324.1719" style="stroke:#000000;stroke-width:1.5;" width="612.5" x="1448" y="3614.9727"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1463" y="3628.0332">alt</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203" x="1522" y="3627.1777">[Debtor account not provided in Consent]</text><path d="M1458,3637.207 L1458,3753.207 L1885,3753.207 L1885,3647.207 L1875,3637.207 L1458,3637.207 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1875,3637.207 L1875,3647.207 L1885,3647.207 L1875,3637.207 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="357" x="1464" y="3654.2676">If the debtor account has not been provided in the Consent then</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="331" x="1464" y="3669.502">the customer's payment accounts will need to be retrieved:</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="3" x="1464" y="3684.7363">&#160;</text><ellipse cx="1469.5" cy="3695.6445" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="394" x="1476" y="3699.9707">If the customer only has one payment account then this is the default.</text><ellipse cx="1469.5" cy="3710.8789" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="361" x="1476" y="3715.2051">If they have multiple accounts they should be able to select one.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="3" x="1464" y="3730.4395">&#160;</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="373" x="1464" y="3745.6738">This should be incorporated into the Consent Confirmation screen.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1812.5" x2="1854.5" y1="3780.082" y2="3780.082"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854.5" x2="1854.5" y1="3780.082" y2="3793.082"/><line style="stroke:#181818;stroke-width:1.0;" x1="1813.5" x2="1854.5" y1="3793.082" y2="3793.082"/><polygon fill="#181818" points="1823.5,3789.082,1813.5,3793.082,1823.5,3797.082,1819.5,3793.082" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="229" x="1819.5" y="3774.9082">Query account list for payment accounts</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1448" x2="2060.5" y1="3802.082" y2="3802.082"/><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="1453" y="3812.2871">[Debtor account provided in Consent]</text><path d="M1458,3820.9727 L1458,3890.9727 L1845,3890.9727 L1845,3830.9727 L1835,3820.9727 L1458,3820.9727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1835,3820.9727 L1835,3830.9727 L1845,3830.9727 L1835,3820.9727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="366" x="1464" y="3838.0332">If the debtor account has already been provided ownership of the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="140" x="1464" y="3853.2676">account by the customer</text><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1607" y="3853.2676">must</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="175" x="1639" y="3853.2676">be verified. In this example this</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="366" x="1464" y="3868.502">can be done at the Mobile Banking App as it has already retrieved</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="169" x="1464" y="3883.7363">the list of customer accounts.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1812.5" x2="1854.5" y1="3918.1445" y2="3918.1445"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854.5" x2="1854.5" y1="3918.1445" y2="3931.1445"/><line style="stroke:#181818;stroke-width:1.0;" x1="1813.5" x2="1854.5" y1="3931.1445" y2="3931.1445"/><polygon fill="#181818" points="1823.5,3927.1445,1813.5,3931.1445,1823.5,3935.1445,1819.5,3931.1445" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="183" x="1819.5" y="3912.9707">Verify debtor account ownership</text><line style="stroke:#181818;stroke-width:1.0;" x1="1812.5" x2="1854.5" y1="3989.6133" y2="3989.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="1854.5" x2="1854.5" y1="3989.6133" y2="4002.6133"/><line style="stroke:#181818;stroke-width:1.0;" x1="1813.5" x2="1854.5" y1="4002.6133" y2="4002.6133"/><polygon fill="#181818" points="1823.5,3998.6133,1813.5,4002.6133,1823.5,4006.6133,1819.5,4002.6133" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="89" x="1819.5" y="3969.2051">Render consent</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="114" x="1819.5" y="3984.4395">confirmation screen</text><polygon fill="#181818" points="2043.5,4043.082,2053.5,4047.082,2043.5,4051.082,2047.5,4047.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1812.5" x2="2049.5" y1="4047.082" y2="4047.082"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="96" x="1819.5" y="4026.6738">Request consent</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="72" x="1819.5" y="4041.9082">confirmation</text><polygon fill="#181818" points="1823.5,4072.3164,1813.5,4076.3164,1823.5,4080.3164,1819.5,4076.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1817.5" x2="2054.5" y1="4076.3164" y2="4076.3164"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="94" x="1829.5" y="4071.1426">Confirm consent</text><polygon fill="#181818" points="343.5,4101.5508,333.5,4105.5508,343.5,4109.5508,339.5,4105.5508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="337.5" x2="1811.5" y1="4105.5508" y2="4105.5508"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="168" x="349.5" y="4100.377">Update consent as authorized</text><polygon fill="#181818" points="574.5,4130.7852,584.5,4134.7852,574.5,4138.7852,578.5,4134.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="580.5" y1="4134.7852" y2="4134.7852"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="89" x="339.5" y="4129.6113">Update consent</text><line style="stroke:#181818;stroke-width:1.0;" x1="586.5" x2="628.5" y1="4164.0195" y2="4164.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="628.5" x2="628.5" y1="4164.0195" y2="4177.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="587.5" x2="628.5" y1="4177.0195" y2="4177.0195"/><polygon fill="#181818" points="597.5,4173.0195,587.5,4177.0195,597.5,4181.0195,593.5,4177.0195" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="90" x="593.5" y="4158.8457">Update Consent</text><polygon fill="#181818" points="343.5,4202.2539,333.5,4206.2539,343.5,4210.2539,339.5,4206.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="585.5" y1="4206.2539" y2="4206.2539"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="4201.0801">Response</text><polygon fill="#181818" points="1800.5,4231.4883,1810.5,4235.4883,1800.5,4239.4883,1804.5,4235.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332.5" x2="1806.5" y1="4235.4883" y2="4235.4883"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="339.5" y="4230.3145">Response</text><path d="M1483,4248.4883 L1483,4364.4883 L1807,4364.4883 L1807,4258.4883 L1797,4248.4883 L1483,4248.4883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1797,4248.4883 L1797,4258.4883 L1807,4258.4883 L1797,4248.4883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="272" x="1489" y="4265.5488">The final step is to call the Identity Management</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="285" x="1489" y="4280.7832">component to indicate that the Customer has been</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="291" x="1489" y="4296.0176">authenticated. Identity Management will then signal</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="303" x="1489" y="4311.252">to the Data Recipient App using the chosen mode that</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="253" x="1489" y="4326.4863">authentication is complete. Again this flow is</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="300" x="1489" y="4341.7207">implementation-specific and would be created based</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="279" x="1489" y="4356.9551">on the implementors architecture and technology.</text><polygon fill="#181818" points="975.5,4387.3633,965.5,4391.3633,975.5,4395.3633,971.5,4391.3633" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="969.5" x2="1811.5" y1="4391.3633" y2="4391.3633"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="205" x="981.5" y="4386.1895">Authentication complete notification</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2097" x="0" y="4419.9805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="4419.9805" y2="4419.9805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="4422.9805" y2="4422.9805"/><rect fill="#EEEEEE" height="23.2344" style="stroke:#000000;stroke-width:2.0;" width="226" x="935.5" y="4409.3633"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="209" x="941.5" y="4425.4238">Part 4: Client Granted Access Token</text><path d="M73,4447.5977 L73,4640.5977 L479,4640.5977 L479,4457.5977 L469,4447.5977 L73,4447.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M469,4447.5977 L469,4457.5977 L479,4457.5977 L469,4447.5977 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="148" x="79" y="4464.6582">Notes on Token behaviors</text><line style="stroke:#181818;stroke-width:1.0;" x1="74" x2="478" y1="4467.832" y2="4467.832"/><line style="stroke:#181818;stroke-width:1.0;" x1="74" x2="478" y1="4469.832" y2="4469.832"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="343" x="79" y="4483.8926">The Data Recipient App is made aware of the success of the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="318" x="79" y="4499.127">based on their registered delivery mode. Each of these is</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="78" x="79" y="4514.3613">shown below.</text><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="4519.5352" y2="4519.5352"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="4519.5352" y2="4519.5352"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="4519.5352" y2="4519.5352"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="303" x="79" y="4533.5957">Note that the Poll looping example is purely illustrative</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="349" x="79" y="4548.8301">as the Data Recipient App would poll as soon as they received</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="18" x="79" y="4564.0645">the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="100" y="4564.1724">auth_req_id</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="197" x="191" y="4564.0645">from the AS. Writing the diagram to</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="385" x="79" y="4579.2988">incorporate this sequentially would, however be extremely confusing</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="196" x="79" y="4594.5332">hence the sequence shown below.</text><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="4599.707" y2="4599.707"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="4599.707" y2="4599.707"/><line style="stroke:#000000;stroke-width:0.5;" x1="79" x2="79" y1="4599.707" y2="4599.707"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="338" x="79" y="4613.7676">For Poll and Ping mode the Data Recipient App must use the</text><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" target="_top" title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" xlink:actuate="onRequest" xlink:href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" xlink:show="new" xlink:title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" xlink:type="simple"><text fill="#0000FF" font-family="Roboto" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="87" x="79" y="4629.002">CIBA grant type</text></a><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="229" x="169" y="4629.002">as described in the source specification.</text><path d="M10,4653.1758 L69,4653.1758 L69,4660.4102 L59,4670.4102 L10,4670.4102 L10,4653.1758 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1400.2734" style="stroke:#000000;stroke-width:1.5;" width="1778" x="10" y="4653.1758"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="25" y="4666.2363">alt</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="145" x="84" y="4665.3809">[Client Registered Poll Mode]</text><path d="M73,4675.4102 L73,4745.4102 L468,4745.4102 L468,4685.4102 L458,4675.4102 L73,4675.4102 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M458,4675.4102 L458,4685.4102 L468,4685.4102 L458,4675.4102 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="335" x="79" y="4692.4707">In Poll mode the DR will periodically call the Token endpoint</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="313" x="79" y="4707.7051">until they get a positive response i.e. they do not receive</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="374" x="79" y="4722.9395">the 400 HTTP response code but instead are returned one-or-more</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="309" x="79" y="4738.1738">tokens (Access, Refresh, ID) from the Token endpoint.</text><path d="M20,4758.3477 L89,4758.3477 L89,4765.582 L79,4775.582 L20,4775.582 L20,4758.3477 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="276.7031" style="stroke:#000000;stroke-width:1.5;" width="1758" x="20" y="4758.3477"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="35" y="4771.4082">loop</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="232" x="104" y="4770.5527">[Exit when Authentication Request successful]</text><polygon fill="#181818" points="320.5,4792.7148,330.5,4796.7148,320.5,4800.7148,324.5,4796.7148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="4796.7148" y2="4796.7148"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="216" x="75.5" y="4791.6489">POST&#160;/token&#160;auth_req_id=...</text><polygon fill="#181818" points="1697.5,4821.9492,1707.5,4825.9492,1697.5,4829.9492,1701.5,4825.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="4825.9492" y2="4825.9492"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="4820.7754">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,4851.1836,333.5,4855.1836,343.5,4859.1836,339.5,4855.1836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="4855.1836" y2="4855.1836"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="4850.0098">Response</text><polygon fill="#181818" points="952.5,4880.3164,962.5,4884.3164,952.5,4888.3164,956.5,4884.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="4884.3164" y2="4884.3164"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="216" x="339.5" y="4879.2505">POST&#160;/token&#160;auth_req_id=...</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="4913.5508" y2="4913.5508"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="4913.5508" y2="4926.5508"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="4926.5508" y2="4926.5508"/><polygon fill="#181818" points="975.5,4922.5508,965.5,4926.5508,975.5,4930.5508,971.5,4926.5508" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="971.5" y="4908.377">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="4955.7852" y2="4955.7852"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="4955.7852" y2="4968.7852"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="4968.7852" y2="4968.7852"/><polygon fill="#181818" points="975.5,4964.7852,965.5,4968.7852,975.5,4972.7852,971.5,4968.7852" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="75" x="971.5" y="4950.6113">Check status</text><polygon fill="#181818" points="343.5,4993.918,333.5,4997.918,343.5,5001.918,339.5,4997.918" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="4997.918" y2="4997.918"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="168" x="349.5" y="4992.8521">400&#160;Bad&#160;Request&#160;{...}</text><polygon fill="#181818" points="79.5,5023.0508,69.5,5027.0508,79.5,5031.0508,75.5,5027.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="5027.0508" y2="5027.0508"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="168" x="85.5" y="5021.9849">400&#160;Bad&#160;Request&#160;{...}</text><polygon fill="#181818" points="320.5,5059.1836,330.5,5063.1836,320.5,5067.1836,324.5,5063.1836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="5063.1836" y2="5063.1836"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="216" x="75.5" y="5058.1177">POST&#160;/token&#160;auth_req_id=...</text><polygon fill="#181818" points="1697.5,5088.418,1707.5,5092.418,1697.5,5096.418,1701.5,5092.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="5092.418" y2="5092.418"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="5087.2441">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,5117.6523,333.5,5121.6523,343.5,5125.6523,339.5,5121.6523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="5121.6523" y2="5121.6523"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="5116.4785">Response</text><polygon fill="#181818" points="952.5,5146.7852,962.5,5150.7852,952.5,5154.7852,956.5,5150.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="5150.7852" y2="5150.7852"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="216" x="339.5" y="5145.7192">POST&#160;/token&#160;auth_req_id=...</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5180.0195" y2="5180.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5180.0195" y2="5193.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5193.0195" y2="5193.0195"/><polygon fill="#181818" points="975.5,5189.0195,965.5,5193.0195,975.5,5197.0195,971.5,5193.0195" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="971.5" y="5174.8457">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5222.2539" y2="5222.2539"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5222.2539" y2="5235.2539"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5235.2539" y2="5235.2539"/><polygon fill="#181818" points="975.5,5231.2539,965.5,5235.2539,975.5,5239.2539,971.5,5235.2539" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="75" x="971.5" y="5217.0801">Check status</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5264.4883" y2="5264.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5264.4883" y2="5277.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5277.4883" y2="5277.4883"/><polygon fill="#181818" points="975.5,5273.4883,965.5,5277.4883,975.5,5281.4883,971.5,5277.4883" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="79" x="971.5" y="5259.3145">Create tokens</text><polygon fill="#181818" points="343.5,5302.6211,333.5,5306.6211,343.5,5310.6211,339.5,5306.6211" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="5306.6211" y2="5306.6211"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="96" x="349.5" y="5301.5552">200&#160;OK&#160;{...}</text><polygon fill="#181818" points="79.5,5331.7539,69.5,5335.7539,79.5,5339.7539,75.5,5335.7539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="5335.7539" y2="5335.7539"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="96" x="85.5" y="5330.688">200&#160;OK&#160;{...}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1788" y1="5344.7539" y2="5344.7539"/><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148" x="15" y="5354.959">[Client Registered Ping Mode]</text><path d="M73,5363.6445 L73,5433.6445 L457,5433.6445 L457,5373.6445 L447,5363.6445 L73,5363.6445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M447,5363.6445 L447,5373.6445 L457,5373.6445 L447,5363.6445 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="322" x="79" y="5380.7051">Ping mode is a simple notification by the AS to a callback</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="324" x="79" y="5395.9395">URL pre-registered by the Data Recipient App in Part 0. On</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="358" x="79" y="5411.1738">receipt the Data Recipient App can then call the Token endpoint</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="363" x="79" y="5426.4082">in the same way as in Poll mode and collect one-or-more tokens.</text><polygon fill="#181818" points="79.5,5456.8164,69.5,5460.8164,79.5,5464.8164,75.5,5460.8164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="73.5" x2="963.5" y1="5460.8164" y2="5460.8164"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="255" x="85.5" y="5455.6426">Authentication Request complete notification</text><polygon fill="#181818" points="952.5,5485.9492,962.5,5489.9492,952.5,5493.9492,956.5,5489.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="958.5" y1="5489.9492" y2="5489.9492"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="112" x="75.5" y="5484.8833">204&#160;No&#160;Content</text><polygon fill="#181818" points="320.5,5515.082,330.5,5519.082,320.5,5523.082,324.5,5519.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="5519.082" y2="5519.082"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="216" x="75.5" y="5514.0161">POST&#160;/token&#160;auth_req_id=...</text><polygon fill="#181818" points="1697.5,5544.3164,1707.5,5548.3164,1697.5,5552.3164,1701.5,5548.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="5548.3164" y2="5548.3164"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="5543.1426">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,5573.5508,333.5,5577.5508,343.5,5581.5508,339.5,5577.5508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="5577.5508" y2="5577.5508"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="5572.377">Response</text><polygon fill="#181818" points="952.5,5602.6836,962.5,5606.6836,952.5,5610.6836,956.5,5606.6836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="5606.6836" y2="5606.6836"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="216" x="339.5" y="5601.6177">POST&#160;/token&#160;auth_req_id=...</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5635.918" y2="5635.918"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5635.918" y2="5648.918"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5648.918" y2="5648.918"/><polygon fill="#181818" points="975.5,5644.918,965.5,5648.918,975.5,5652.918,971.5,5648.918" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="971.5" y="5630.7441">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5678.1523" y2="5678.1523"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5678.1523" y2="5691.1523"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5691.1523" y2="5691.1523"/><polygon fill="#181818" points="975.5,5687.1523,965.5,5691.1523,975.5,5695.1523,971.5,5691.1523" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="79" x="971.5" y="5672.9785">Create tokens</text><polygon fill="#181818" points="343.5,5716.2852,333.5,5720.2852,343.5,5724.2852,339.5,5720.2852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="5720.2852" y2="5720.2852"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="96" x="349.5" y="5715.2192">200&#160;OK&#160;{...}</text><polygon fill="#181818" points="79.5,5745.418,69.5,5749.418,79.5,5753.418,75.5,5749.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="5749.418" y2="5749.418"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="96" x="85.5" y="5744.3521">200&#160;OK&#160;{...}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1788" y1="5758.418" y2="5758.418"/><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="15" y="5768.623">[Client Registered Push Mode]</text><path d="M73,5777.3086 L73,5847.3086 L464,5847.3086 L464,5787.3086 L454,5777.3086 L73,5777.3086 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M454,5777.3086 L454,5787.3086 L464,5787.3086 L454,5777.3086 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="363" x="79" y="5794.3691">In Push mode tokens are created by the AS and then transmitted</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="370" x="79" y="5809.6035">to the Data Recipient App, therefore negating the need for them to</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="356" x="79" y="5824.8379">visit the Token endpoint. Their are various implications of using</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="221" x="79" y="5840.0723">this method which are discussed in the</text><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" target="_top" title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" xlink:actuate="onRequest" xlink:href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" xlink:show="new" xlink:title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" xlink:type="simple"><text fill="#0000FF" font-family="Roboto" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="74" x="303" y="5840.0723">specification</text></a><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="3" x="377" y="5840.0723">.</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5874.4805" y2="5874.4805"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5874.4805" y2="5887.4805"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5887.4805" y2="5887.4805"/><polygon fill="#181818" points="975.5,5883.4805,965.5,5887.4805,975.5,5891.4805,971.5,5887.4805" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="971.5" y="5869.3066">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5916.7148" y2="5916.7148"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5916.7148" y2="5929.7148"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5929.7148" y2="5929.7148"/><polygon fill="#181818" points="975.5,5925.7148,965.5,5929.7148,975.5,5933.7148,971.5,5929.7148" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="79" x="971.5" y="5911.541">Create tokens</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="5974.1836" y2="5974.1836"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="5974.1836" y2="5987.1836"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="5987.1836" y2="5987.1836"/><polygon fill="#181818" points="975.5,5983.1836,965.5,5987.1836,975.5,5991.1836,971.5,5987.1836" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="195" x="971.5" y="5953.7754">Retrieve callback URL and security</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="162" x="971.5" y="5969.0098">token for Data Recipient App</text><polygon fill="#181818" points="79.5,6012.3164,69.5,6016.3164,79.5,6020.3164,75.5,6016.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="73.5" x2="963.5" y1="6016.3164" y2="6016.3164"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="112" x="85.5" y="6011.2505">POST&#160;/cb&#160;{...}</text><polygon fill="#181818" points="952.5,6041.4492,962.5,6045.4492,952.5,6049.4492,956.5,6045.4492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="958.5" y1="6045.4492" y2="6045.4492"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="112" x="75.5" y="6040.3833">204&#160;No&#160;Content</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2097" x="0" y="6081.0664"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="6081.0664" y2="6081.0664"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2097" y1="6084.0664" y2="6084.0664"/><rect fill="#EEEEEE" height="23.2344" style="stroke:#000000;stroke-width:2.0;" width="285" x="906" y="6070.4492"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="268" x="912" y="6086.5098">Part 5: DR Makes Payment Instruction Request</text><path d="M73,6108.6836 L73,6178.6836 L453,6178.6836 L453,6118.6836 L443,6108.6836 L73,6108.6836 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,6108.6836 L443,6118.6836 L453,6118.6836 L443,6108.6836 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="359" x="79" y="6125.7441">With the Access Token in hand the Data Recipient App can now</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="327" x="79" y="6140.9785">make the payment instruction request. The Access Token</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="321" x="79" y="6156.2129">is bound to this single operation and will be revoked once</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="293" x="79" y="6171.4473">the payment instruction is successfully transmitted.</text><polygon fill="#181818" points="320.5,6201.7539,330.5,6205.7539,320.5,6209.7539,324.5,6205.7539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="68.5" x2="326.5" y1="6205.7539" y2="6205.7539"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="240" x="75.5" y="6200.688">POST&#160;/payments/v1/pix/payments</text><polygon fill="#181818" points="1697.5,6230.9883,1707.5,6234.9883,1697.5,6238.9883,1701.5,6234.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="1703.5" y1="6234.9883" y2="6234.9883"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="177" x="339.5" y="6229.8145">Check Client Certificate Validity</text><polygon fill="#181818" points="343.5,6260.2227,333.5,6264.2227,343.5,6268.2227,339.5,6264.2227" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1708.5" y1="6264.2227" y2="6264.2227"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="6259.0488">Response</text><path d="M337,6277.2227 L337,6332.2227 L811,6332.2227 L811,6287.2227 L801,6277.2227 L337,6277.2227 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M801,6277.2227 L801,6287.2227 L811,6287.2227 L801,6277.2227 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="453" x="343" y="6294.2832">The approach to Access Token introspection remains the same under payments</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="435" x="343" y="6309.5176">i.e. the API Gateway will need an assertion that indicates the consent granted</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="315" x="343" y="6324.752">by the Customer matches the payment being instructed.</text><polygon fill="#181818" points="952.5,6355.1602,962.5,6359.1602,952.5,6363.1602,956.5,6359.1602" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="958.5" y1="6359.1602" y2="6359.1602"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="192" x="339.5" y="6353.9863">Request Access Token properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="964.5" x2="1006.5" y1="6388.3945" y2="6388.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006.5" x2="1006.5" y1="6388.3945" y2="6401.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="965.5" x2="1006.5" y1="6401.3945" y2="6401.3945"/><polygon fill="#181818" points="975.5,6397.3945,965.5,6401.3945,975.5,6405.3945,971.5,6401.3945" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="191" x="971.5" y="6383.2207">Retrieve Access Token properties</text><polygon fill="#181818" points="343.5,6426.6289,333.5,6430.6289,343.5,6434.6289,339.5,6430.6289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="963.5" y1="6430.6289" y2="6430.6289"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="349.5" y="6425.4551">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="374.5" y1="6459.8633" y2="6459.8633"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.5" x2="374.5" y1="6459.8633" y2="6472.8633"/><line style="stroke:#181818;stroke-width:1.0;" x1="333.5" x2="374.5" y1="6472.8633" y2="6472.8633"/><polygon fill="#181818" points="343.5,6468.8633,333.5,6472.8633,343.5,6476.8633,339.5,6472.8633" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="203" x="339.5" y="6454.6895">Introspect Access Token properties</text><path d="M337,6485.8633 L337,6555.8633 L803,6555.8633 L803,6495.8633 L793,6485.8633 L337,6485.8633 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M793,6485.8633 L793,6495.8633 L803,6495.8633 L793,6485.8633 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="392" x="343" y="6502.9238">On introspecting the Access Token the API Gateway will decorate the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="421" x="343" y="6518.1582">request with the debtor account which is stored with the Consent. This can</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="445" x="343" y="6533.3926">then be forwarded to the Core Banking Connector and used to make the correct</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="251" x="343" y="6548.627">payment instruction in the Banking Systems.</text><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="374.5" y1="6583.0352" y2="6583.0352"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.5" x2="374.5" y1="6583.0352" y2="6596.0352"/><line style="stroke:#181818;stroke-width:1.0;" x1="333.5" x2="374.5" y1="6596.0352" y2="6596.0352"/><polygon fill="#181818" points="343.5,6592.0352,333.5,6596.0352,343.5,6600.0352,339.5,6596.0352" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="213" x="339.5" y="6577.8613">Decorate request with debtor account</text><polygon fill="#181818" points="789.5,6621.168,799.5,6625.168,789.5,6629.168,793.5,6625.168" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="795.5" y1="6625.168" y2="6625.168"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="240" x="339.5" y="6620.1021">POST&#160;/payments/v1/pix/payments</text><path d="M806,6638.168 L806,6693.168 L1208,6693.168 L1208,6648.168 L1198,6638.168 L806,6638.168 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1198,6638.168 L1198,6648.168 L1208,6648.168 L1198,6638.168 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="377" x="812" y="6655.2285">This flow is non-normative and will vary on customer requirements.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="8" x="812" y="6670.4629">It</text><text fill="#000000" font-family="Roboto" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="823" y="6670.4629">could</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="336" x="857" y="6670.4629">be to a PIX-compliant API or any other available mechanism</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="134" x="812" y="6685.6973">to make a PIX payment.</text><line style="stroke:#181818;stroke-width:1.0;" x1="801.5" x2="843.5" y1="6720.1055" y2="6720.1055"/><line style="stroke:#181818;stroke-width:1.0;" x1="843.5" x2="843.5" y1="6720.1055" y2="6733.1055"/><line style="stroke:#181818;stroke-width:1.0;" x1="802.5" x2="843.5" y1="6733.1055" y2="6733.1055"/><polygon fill="#181818" points="812.5,6729.1055,802.5,6733.1055,812.5,6737.1055,808.5,6733.1055" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="139" x="808.5" y="6714.9316">Mediate request payload</text><polygon fill="#181818" points="1441.5,6758.3398,1451.5,6762.3398,1441.5,6766.3398,1445.5,6762.3398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="801.5" x2="1447.5" y1="6762.3398" y2="6762.3398"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="286" x="808.5" y="6757.166">Deliver payment instruction to Banking System API</text><polygon fill="#181818" points="812.5,6787.5742,802.5,6791.5742,812.5,6795.5742,808.5,6791.5742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="806.5" x2="1452.5" y1="6791.5742" y2="6791.5742"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="57" x="818.5" y="6786.4004">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="801.5" x2="843.5" y1="6820.8086" y2="6820.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="843.5" x2="843.5" y1="6820.8086" y2="6833.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="802.5" x2="843.5" y1="6833.8086" y2="6833.8086"/><polygon fill="#181818" points="812.5,6829.8086,802.5,6833.8086,812.5,6837.8086,808.5,6833.8086" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="149" x="808.5" y="6815.6348">Mediate response payload</text><polygon fill="#181818" points="343.5,6874.0742,333.5,6878.0742,343.5,6882.0742,339.5,6878.0742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="800.5" y1="6878.0742" y2="6878.0742"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="349.5" y="6857.8755">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="349.5" y="6873.0083">{paymentId:&#160;"..."}</text><polygon fill="#181818" points="79.5,6918.3398,69.5,6922.3398,79.5,6926.3398,75.5,6922.3398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="331.5" y1="6922.3398" y2="6922.3398"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="88" x="85.5" y="6902.1411">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="144" x="85.5" y="6917.2739">{paymentId:&#160;"..."}</text><!--SRC=[xLjjSnitalwENu5YFiXHcPJizUxTgSvNHKcsZqbayKHvlLShbmgS0KciXeEvmOmaPdF__ReRm0pcZPQoIIuVjbBbI2BGQ7G__OfceOf4yfiK_sCR5Kk-qhfOwaV6Cf4NAbAPI0i-EXU5k4cl9FokP5hSfDCi6t5X-FaLOx2SJxTPebOxVfd9b9-Az4wbQ_xDdzvF__Nyh4bgEf_Tf1z48H_4ZaZ07su_JA_VVPx-TtFbcKuD7NOXKh6MM_YPDfnTVboy-tZTNfpBwk2R5FQcCYfqRdUSjfYOnK1C5JjUaxv9n-CnNAmiDZfNFuf2wPGlP7ulBOtPz8B9DEOa7BnoHKF0NwTH90qSfDCYrmd_vj_UH6_-9MuUwhYxIVtEctIUwtkGkZrXkfWlvhUpy_d0jiNE579hWhKWkfgdvgvG4JVfkSf96Zjto-yMbn_vPxdatyiTNDBAzVBq_FQxpzylMeALyCjAHQ2nIZg5ftDvjfZpTscSQUMKWtzf4hZGIvN0teePZvsBozFP3- -OGCRWdD8KUkj4CLzyOaqy6jWBPCMMnt8bogHu3wB-ABQIN-cbBdImu5G_paKS8n1U7JFszYsV0p_y-8HVoRKoHMvrgrVyMj-1bCvbea3BEpxFvKhcCWLLyhTl6Kjr8Nckrfi25mFKpsQdKvxB_ob1d8ON6r7mimGDmi1VaRJCkG067RsjXWjakOBh5HgMImPdfsQhZ74CY7J7KQQ8XyYoTGNafIdC2Vlffv_ON_-wAOhCd1mTQL2eYYUfB8vC9YFZ_Z2EY86nIbMXG4VnU2cYksWZ0F_9M3HeZoCmal6hs-F9fjWct-IhQ6805l39v4td8YW-uBeqajErBpujhhbAOq82tB8WsJNk-kKByNozaRpFZFYBwU9R50E86Qrr2nhd6mt_27UgrGn2cW35nwXibSeO3iQDF5Ocqa1ABC5j8SHdvsXpAxKkdLR7ZDGYaaG_6DfZBuPtYJKtUiAHFqAAX6iQG1YePwCCZs0J4y1OB4sKgsLzB0a0fMuD0Sz1eu_L2l02ou4HX1lJTZaGtcZQJAf4-TAXA2F3uGIhsqD-U3ZNIN9uUEAPpE1NoxM5ffV4n2w6Ct3nTC41ci2BD2_zpbmMkPBtG7-Lwst_zj9it7Rmgx6nAiJ_EIAJIdscp3AT0veSp_S2LBpSuLP1_Etm6bo1roVd2IBquk5g8YSi-CGWqF5Ai3aIAOysMWEeu5IT9Zj_5FmYnpeVRn4PQy1KokXeAxasFmIT9KXKe8N1lMfTmIaM6Am1Z0avIhHeniwl-FW_mhXpmaUZ-INW-oYoSUF8My5er7O3ORWYfCzdt8Kphj1yJ0PnIo504LdNFomOqDcgjCPD9lELtgA1WJZ8XIBqd8_WWSDbbR_53q5N9GW7rrYZvr6z5FoCn6Y9WZ3iNYJWAqXqO3zhcOCNIWklY73RWuAJbyJhWyXZ6JCugISy8WDWU1ZZaGGTW2iSoKlab3ai4aJ8e5AG7L8NnaXItxqITEDG7O54KI_uCHZ4HaPt7jo1IFYVtScDRVy-7hjzLrR-aXtCFdwuUhTOT5JT20BEsp9sTF0CFKF8CdXB0LBNZpjID0IXJJCdSFaBguM86W6vY0osYMY3U04qgpLwk5h1Y0Nb234a96no4Rda0eq8iQ_1vOErn7HOejTh-14vWUEI7VXy0vQHPs1hPbZOaDKCI0G-gHRysIhUQgFnoG8vy6gQLqwrenntZjEDLmr-qjADMm4cIjlimb2jHx-JEpWE-zclaevNWEHS8cuT6aXP2zH7VzplJpmGW9Y3yoe5vv15KIg2kGBw4PU1MiTV6Wn7GVG39WXH0iBBEiUyhDXbSi8_eXy2m05Y6-mmXJQSwtAzuHTbKOgapI-6OVHkV5aMN84lqcKICs28g04-YGTmhE1wxa40jtToT_ktXs8qUg8hriZHwoCAKk26VnqlqGUb0GOEdh5s67W7JOOybTV7n_po-z7e1dR_VMGD_jPIWuydaydeVriog13vrCrzW7tgtYuYFojmTnHlGzn13DuWm8ikNj5h8O1OPEs10f6p2GXTkimZwVnZAYLb9uYYI6Cc0Q63BMtMMBZiiiTqR6g2iQcKBZ2nqSWTCej78nkWANqdXsjaqTd18SC4otWQHZEnGxzkZkvV7Rbpp6-5rN-08LT1VtMRMzVOGjmYsxNohFGXfcLuAzdrdC5vhuzVEOyOEz1L-gdn5iRU8TW-WSpJ7Ic2CzKFt64J8OmfSW_Oc0ERWwfAewICfGLUl4l55Z9WGf0j3pSwYKDKCWUo9YmXUIzpJ08WnUx9lRfWFB-guag_BUm3xJAYkX3BC_chWHNogQ44R82FFVdNr42UwlmDc2urCx2UNGe3GdkFgHcWRwKIfuX-bQ7r2rwrFXQGTmcGEtYTMH6KfO7tOH6AmQLLFkN5e5auzRgQ0pCp-KXiKwaufug4DOlWW0lCYYi_9CmUduPnM2IGSnfEneRviu0VenAt1gK-OJQL69Hzt4QgonpAO9dlIxTTr-U4Vm1ls6uCTTLSBN-INxeG1UIvpRjX8z6v39zi0IRkLDm5OuEM2wHV9sQyPdl3-tjRwGm9l16wlQyRM3kKZ3uDuTXH_2UoVq5aEzLz1T6uQW39eUwVYzoUbEyvI7qEx7fmv1JNAYvJG5AgyorilxTH3IK7rIiawNMBnXAlj6OscCdRt2irs9s6FsBdWaK0ol5oDyR_WuQCCZtIhxhO9tlB7Dl0SZ0Up6lRGHwjwHOulLNn4pBRf-skQhNN4FPS4pha6bjs1RTTxEg50PE6RgLMT_2fyv90HW7IV4YjVMvscGQgI3IfrGJcICrANx2z0vbzCf9Qna5DPjKNOKiht_hS2-mx9Qqp4ybKv4f3-er9YIc0fYHrgvnlBUzBnpiSROc9b86_aHuRW8inwhdAwFPmm3m7OM3njs_1u4pdkKowUAuDWboWbtqV7L3j2Ry6EQz1CDZlQ-27EfX-TwzAyA64shwThPLFZ4IUxxW16jxfJHY42YuV1HhAovwqROpxdDrGiU5JOb-wk7l7ziUeI7QXlEpx1nQ1mIN9PdflsDMYfm1YcYy-dQ3tfagp4aLrmjWkk1PPq_1Q1Bm-bWhs5xcARj8r_4vTnoOMEgJdjltOitNOICBWjnL_iurEMD6zgUcq9opklNRGm7HPs2eozfrKHmVB4jW5b0oze4tOPHgv0jJREvfDUByu912AtA3RtBa6kk2Z4asriNFKqHoIWllwzZhmIgwXxQ1VygPB7bSjTJGyzb2vPUlKkCqHt9j3e-4kycYZ2W0SYf_SlemsgKxq6c9y5u5DS_tKkL4lPiZZrhkcqHqKKE1pRCdI8KtWzlYgtAo88br2hTabwjQt-sb_27pqcNL5fjLQIoHsPwUMSksa4xaY-BbNnsczBMmt-6UKs3wZ27gVGWnGOeBu_56dak4RXr_X-Jam7Y-nl5SEO84hxRQ3Wr0BUOrlZnDQqdKUl2SdCZz25-Rwpwxsz23QXneF6lOyqF0MQ0YvivRDKNlHAqFPNC_eH7gjCYn-KSasx_19gEQhCiVVkGYpI7eOgxAGIJzAcyrMgoeV30UR79s5VMsDQj5P3xL63wC2POZP_Yxmlb3aqUTGR9s50JN9D7nYnfSPbnu47HQ7rbYPB14x6P-mGmYF8ZM2oWVC84k9htvrcoEMXL29uIzIo3rVOdv_ceiVLSBFvk-FpZxEl_iMryzj8mXx93BytJrflbY54R6ceIZvNwb7c_NFPtyXQkybW65BTWZ9VBws7GxAti6byXUANi2_3PKDkN7b9bRrTZpNDQc6nGh7cN1bzKoOsJ4BPzHuli_Zt4p57f_OS5mrHr_rM3B1VqK2ifHBV21rLa4bKiKGYD03Rl1QCzioYfjaC6BPrpK0J4Yl2C153TSmq86JyiBnljS-0Q8JRFl04mOwTATNaP8URV5my8DjMdIUTHBE7xXXZKb52FVUuzj_KgYizXNkKRbsYFJ2JorQzETus8JPs5clKIdaLPdEoR6frB-V3XjMlrUnFvtm_ofnaC5V9L6c0RiwLf5gsrhzXJGg4l3JyQwbLIWXP6usAlDTRR_5MLEbdCD3XFpX8Kg7NciLk5BUTTnGCRXNn1ZLA6mRlAV6mMgYoLc53i8LIGcOYjeHVR-eNO7S4a1rJKQRmNRi3-0J-eXSmMTmOkJ7nAAkmeSItDuzdPpsh5bj3KQYJrcZ8UvIIUhwn8DHgRcfDoQv9RzuH6gbGcvA08fIy8KPMQvs4mcOYdJxqGmVPG0tjjAfPeAeRzH82X0tY6JMI2SdlVC5v8N8Vr1J967Ed7kwzVPbaO0FwHdie44hF9uromIyYtz0cl3fMlYomQLEx2cfKpFVPizEdMexE1Z0Jwj5uZbkfjq7-tgPuYaKwjDfxvDEhHBlDzMCqWTyFfPny-6lzzKQcr8O9zoQfGJNhq1UGFJjq4iCA8U6UiG3feF-IQwqPpdl5-QmAgycrk1lZN6q2N-73HQxoM2Do6mtPYb1_JQdhHkUU0vEO_54wmpn5PIM6UWLeXuWjBGp1lVWWiqGF2rmS9GBNO7Hs5DnySsrMwpl78s2XjHeL2SdqyM4VuPYmwCyLcADWus5Pa78iqWswD7eOHyOf9DVGitoGErImAvyB7A0ANo6diwE1MoaBt_jPlYb8nViV90q4CquT-PjhFV6b6VXf21gvxSQMNnrF7bbczBrGCENBoZgploUxGiq9_X2myGipQ7xgWOJtVy2hjq3RGYfz74jbIlhmI11LneT8kgZSgBDSJm6mKub5X5hYUEFcJQAUhHkV4pI59rT4MlNLIVe47BU71_p_xo-djVB8-I39Z5Iu5x4hfXopuh1R1rpGtylhFc-X0klWChc9P-TVrj3i3q_MCiApOE_UuIiu06TzK1xrrdigapslKJQ6TB02jvYK_R_OzPZY9E3dxCfxELNTMLBK7dFSvEzeO5WL9hse4ZL54VTduA2lQJ_3cVkcGqPMjxVCnzQBMd2J6VizwFDWwyzBp-HdTzEeuqFt10C6UEWhkrmpjTKt5grRywdMcHhc1wVXwv-mEVLOO2UCwWJsamNV3qoNL2_cFmV-dRswUe7750T1w7QBUrB0L8ti3_Xb-w58Yk65lknea5VwqC0VbM0PZSD7L0vR_keaVWgivf1jgffZLxuWQq1hzUVGw79r41xVVo6VwHkO85VQ1dzqwIUQLA_Lyl1DvizsG9-RBC56u0nG5ULHMKshbSAcBNV52aAEv7TZ_wNZSVzjQWoHkhcs2ysICeRxnKa67sH7MV48OT6Rkxn0R6q_MId0Kgv_J0ffkQs3VYmKP1OqrSbb87ItzIfrc-O_VsXcT1z-TBp6lqFmgkNYlTg7BsQ7HMpRmCtgGKx2hwhh8O3gRvli0pHjzTDL2qHNvBzyGIppWjn1qMMxzFE8FtBo-Zh4yNFdjyCnkJO5iwaDRutfe9Zytf0haaT9pwMkapT-nmMBm2i-e7EVJl2VoCXb_VwZfBNo6QzVOSXaIhLX8mxC9kVCSAPgSVgzr_DotxbUmRXO41BDqMk4V5EobkXKbF7jfAQOPvxvkk7nlSMwawlIDrtCkY9qWxyn6xQ8PpCNTjYdpaFLNLsjZWTuzPwlImbkX-ldQO2-aVsBJuRjmocIFjDU63n_c7zVMDbiqgkWyJtgEooeHZdVXjqUfKGoyWNyPBbuHX4JsFOkbk4kls-HxNkp8-1NBklsp2A7U7NUQfl5ONVZws-7Ki6LngxhB9gDwt0UWqkxNi_sQFgXgpF_RKRLsvUjzCnFJrxahMsb8JV-Hr-Qwyz3Nsr3VjV7jhkyOt8JjYiu4T7zDs6eoCKBEMryzbVnfJhAMmye799b437lclU2vNG0yPMOc1JPikyV6cpDvbGRC1lTTiB6QjGIh0yqIBsQuBt9lVTrLxV24SsrOIS4esXHwj-7boBmJFHQKDR_NJ7hHnFivypgjMtz_y0]--></g></svg>