<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="6923px" preserveAspectRatio="none" style="width:2272px;height:6923px;background:#FFFFFF;" version="1.1" viewBox="0 0 2272 6923" width="2272px" zoomAndPan="magnify"><defs><style type="text/css">@import url('https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic');</style></defs><g><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1129.5" y="27.9951">&#160;</text><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1129.5" y="44.292">&#160;</text><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1129.5" y="60.5889">&#160;</text><text fill="#000000" font-family="Roboto" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1129.5" y="76.8857">&#160;</text><rect fill="#6FA8DC" height="6818.2344" style="stroke:#181818;stroke-width:0.5;" width="599" x="268" y="92.1875"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="109" x="510.5" y="104.2544">Amplify Fusion</text><rect fill="#94C47D" height="6818.2344" style="stroke:#181818;stroke-width:0.5;" width="214" x="906" y="92.1875"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203" x="909" y="104.2544">Identity and Access Control</text><rect fill="#D5A6BD" height="6818.2344" style="stroke:#181818;stroke-width:0.5;" width="340.5" x="1281.5" y="92.1875"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195" x="1351.75" y="104.2544">Core Banking Applications</text><rect fill="none" height="449.1953" style="stroke:#000000;stroke-width:1.5;" width="703" x="1535" y="3482.1406"/><rect fill="none" height="322.6641" style="stroke:#000000;stroke-width:1.5;" width="652" x="1576" y="3601.6719"/><rect fill="none" height="1396.8516" style="stroke:#000000;stroke-width:1.5;" width="1915" x="10" y="4635.3203"/><rect fill="none" height="276.1953" style="stroke:#000000;stroke-width:1.5;" width="1895" x="20" y="4739.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="308" x2="308" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="564" x2="564" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="807" x2="807" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1012.5" x2="1012.5" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1320.5" x2="1320.5" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1581" x2="1581" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1707" x2="1707" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1845" x2="1845" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1950" x2="1950" y1="175.2109" y2="6916.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2223" x2="2223" y1="175.2109" y2="6916.4219"/><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="30" y="111.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="53.5" y="131.3154">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="37" y="147.6123">Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="56" y="163.9092">App</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="272" y="127.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="298" y="147.6123">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="279" y="163.9092">Gateway</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="512" y="127.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="535" y="147.6123">Consent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="519" y="163.9092">Management</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="752" y="127.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="759" y="147.6123">Core Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="771" y="163.9092">Connector</text><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="933.5" y="111.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="940.5" y="131.3154">Identity Management</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="1005.5" y="147.6123">---</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="943.5" y="163.9092">Authorization Server</text><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1285.5" y="111.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1292.5" y="131.3154">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1295.5" y="147.6123">Identity</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1292.5" y="163.9092">Provider</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="1545" y="127.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1553.5" y="147.6123">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="1552" y="163.9092">Systems</text><rect fill="#E2E2F0" height="79.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="1638" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1658" y="115.0186">Open Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1676" y="131.3154">Directory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="1699.5" y="147.6123">---</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1645" y="163.9092">JSON Web Key Set</text><rect fill="#E2E2F0" height="79.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1786" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1811" y="115.0186">Certificate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1815" y="131.3154">Authority</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="1838" y="147.6123">---</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1793" y="163.9092">OCSP Endpoint</text><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="1915" y="111.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1927.5" y="131.3154">Mobile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1922" y="147.6123">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1936.5" y="163.9092">App</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2186" y="171.9092">Customer</text><ellipse cx="2223" cy="107.4141" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M2223,115.4141 L2223,142.4141 M2210,123.4141 L2236,123.4141 M2223,142.4141 L2210,157.4141 M2223,142.4141 L2236,157.4141 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2265" x="0" y="205.7773"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="205.7773" y2="205.7773"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="208.7773" y2="208.7773"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="391" x="937" y="195.2109"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="372" x="943" y="211.2778">Part 0: Registration of Token Delivery Preferences</text><path d="M74,233.3438 L74,485.3438 L549,485.3438 L549,243.3438 L539,233.3438 L74,233.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M539,233.3438 L539,243.3438 L549,243.3438 L539,233.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="397" x="80" y="250.4106">CIBA requires that Clients register a delivery mode prior to the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="289" x="80" y="265.5435">transmission of any Authentication Requests:</text><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="270.6094" y2="270.6094"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="270.6094" y2="270.6094"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="270.6094" y2="270.6094"/><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" target="_top" title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" xlink:actuate="onRequest" xlink:href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" xlink:show="new" xlink:title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.4" xlink:type="simple"><text fill="#0000FF" font-family="Roboto" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="434" x="80" y="284.6763">Clients registering to use CIBA MUST indicate a token delivery mode</text></a><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="289.7422" y2="289.7422"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="289.7422" y2="289.7422"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="289.7422" y2="289.7422"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="411" x="80" y="303.8091">The Authorization Server (AS) therefore must host a registration</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="389" x="80" y="318.9419">endpoint - defined in the discoverable OpenID Configuration -</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="372" x="80" y="334.0747">that allows the Client to do so. The parameters for this call</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="379" x="80" y="349.2075">are described in the CIBA specification and differ depending</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="277" x="80" y="364.3403">on the method in question. The modes are:</text><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="369.4063" y2="369.4063"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="369.4063" y2="369.4063"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="369.4063" y2="369.4063"/><ellipse cx="85.5" cy="379.0391" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="92" y="383.4731">Poll</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="208" x="119" y="383.4731">: Client polls the Token endpoint.</text><ellipse cx="85.5" cy="394.1719" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="92" y="398.606">Ping</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="320" x="125" y="398.606">: AS notifies, Client retrieves from Token endpoint.</text><ellipse cx="85.5" cy="409.3047" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="36" x="92" y="413.7388">Push</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="176" x="128" y="413.7388">: AS sends tokens to Client.</text><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="418.8047" y2="418.8047"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="418.8047" y2="418.8047"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="418.8047" y2="418.8047"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="448" x="80" y="432.8716">The supported modes vary by AS as they are implementor specific i.e.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="452" x="80" y="448.0044">implementors of the AS can choose to only support one-or-more given</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="454" x="80" y="463.1372">modes. The supported modes must be made pushed in the AS OpenID</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="89" x="80" y="478.27">Configuration.</text><polygon fill="#181818" points="296.5,508.4688,306.5,512.4688,296.5,516.4688,300.5,512.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="512.4688" y2="512.4688"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="146" x="76.5" y="507.4028">POST&#160;/connect/register</text><path d="M313,525.4688 L313,625.4688 L701,625.4688 L701,535.4688 L691,525.4688 L313,525.4688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M691,525.4688 L691,535.4688 L701,535.4688 L691,525.4688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="245" x="319" y="542.5356">The API Gateway is responsible for TLS</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="367" x="319" y="557.6685">termination and perfoming an OCSP call to the Certificate</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="336" x="319" y="572.8013">Authority to ensure the client certificate presented is</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="346" x="319" y="587.9341">valid. The fingerprint of the certificate will be forwarded</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="366" x="319" y="603.0669">to Identity Management to verify the validity of the OAuth</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="276" x="319" y="618.1997">Client as this cannot be asserted via OCSP.</text><polygon fill="#181818" points="1833.5,648.3984,1843.5,652.3984,1833.5,656.3984,1837.5,652.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="652.3984" y2="652.3984"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="647.3325">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,677.5313,309.5,681.5313,319.5,685.5313,315.5,681.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="681.5313" y2="681.5313"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="676.4653">Response</text><polygon fill="#181818" points="1001,706.6641,1011,710.6641,1001,714.6641,1005,710.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="710.6641" y2="710.6641"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="132" x="315.5" y="705.5981">Registration Request</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="739.7969" y2="739.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="739.7969" y2="752.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="752.7969" y2="752.7969"/><polygon fill="#181818" points="1024,748.7969,1014,752.7969,1024,756.7969,1020,752.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="76" x="1020" y="734.731">Verify Client</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="781.9297" y2="781.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="781.9297" y2="794.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="794.9297" y2="794.9297"/><polygon fill="#181818" points="1024,790.9297,1014,794.9297,1024,798.9297,1020,794.9297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="154" x="1020" y="776.8638">Store Client Parameters</text><polygon fill="#181818" points="319.5,820.0625,309.5,824.0625,319.5,828.0625,315.5,824.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="824.0625" y2="824.0625"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="818.9966">Response</text><polygon fill="#181818" points="80.5,849.1953,70.5,853.1953,80.5,857.1953,76.5,853.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="853.1953" y2="853.1953"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="86.5" y="848.1294">Response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2265" x="0" y="881.7617"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="881.7617" y2="881.7617"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="884.7617" y2="884.7617"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="441" x="912" y="871.1953"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="422" x="918" y="887.2622">Part 1: Create Consent and Send Authentication Request</text><path d="M74,909.3281 L74,979.3281 L469,979.3281 L469,919.3281 L459,909.3281 L74,909.3281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,909.3281 L459,919.3281 L469,919.3281 L459,909.3281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="358" x="80" y="926.395">The Data Recipient App requests an Access Token using</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="374" x="80" y="941.5278">the Client Credentials grant type. Nominally authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="342" x="80" y="956.6606">is through Mutual Authentication over TLS but it could</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="103" x="80" y="971.7935">equally be using</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="97" x="187" y="971.7935">private_key_jwt</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="4" x="284" y="971.7935">.</text><polygon fill="#181818" points="296.5,1001.9922,306.5,1005.9922,296.5,1009.9922,300.5,1005.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="1005.9922" y2="1005.9922"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="127" x="76.5" y="1000.9263">POST&#160;/oauth2/token</text><polygon fill="#181818" points="1833.5,1031.125,1843.5,1035.125,1833.5,1039.125,1837.5,1035.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="1035.125" y2="1035.125"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="1030.0591">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,1060.2578,309.5,1064.2578,319.5,1068.2578,315.5,1064.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="1064.2578" y2="1064.2578"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="1059.1919">Response</text><polygon fill="#181818" points="1001,1089.3906,1011,1093.3906,1001,1097.3906,1005,1093.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="1093.3906" y2="1093.3906"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="127" x="315.5" y="1088.3247">POST&#160;/oauth2/token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="1122.5234" y2="1122.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="1122.5234" y2="1135.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="1135.5234" y2="1135.5234"/><polygon fill="#181818" points="1024,1131.5234,1014,1135.5234,1024,1139.5234,1020,1135.5234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="76" x="1020" y="1117.4575">Verify Client</text><polygon fill="#181818" points="319.5,1175.7891,309.5,1179.7891,319.5,1183.7891,315.5,1179.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="1179.7891" y2="1179.7891"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="46" x="325.5" y="1159.5903">200&#160;OK</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="143" x="325.5" y="1174.7231">{"access_token":&#160;"..."}</text><polygon fill="#181818" points="80.5,1220.0547,70.5,1224.0547,80.5,1228.0547,76.5,1224.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="1224.0547" y2="1224.0547"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="46" x="86.5" y="1203.856">200&#160;OK</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="143" x="86.5" y="1218.9888">{"access_token":&#160;"..."}</text><path d="M74,1237.0547 L74,1307.0547 L471,1307.0547 L471,1247.0547 L461,1237.0547 L74,1237.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M461,1237.0547 L461,1247.0547 L471,1247.0547 L461,1237.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="376" x="80" y="1254.1216">With the Access Token in hand the Data Recipient can then</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="366" x="80" y="1269.2544">create the consent resource. This needs to be completed</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="342" x="80" y="1284.3872">before the Authentication Request as the value of the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="62" x="80" y="1299.52">consentId</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="258" x="146" y="1299.52">is required to set the value of the scope.</text><polygon fill="#181818" points="296.5,1329.7188,306.5,1333.7188,296.5,1337.7188,300.5,1333.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="1333.7188" y2="1333.7188"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187" x="76.5" y="1328.6528">POST&#160;/payments/v1/consents</text><polygon fill="#181818" points="1833.5,1358.8516,1843.5,1362.8516,1833.5,1366.8516,1837.5,1362.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="1362.8516" y2="1362.8516"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="1357.7856">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,1387.9844,309.5,1391.9844,319.5,1395.9844,315.5,1391.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="1391.9844" y2="1391.9844"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="1386.9185">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="350.5" y1="1421.1172" y2="1421.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="350.5" x2="350.5" y1="1421.1172" y2="1434.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="309.5" x2="350.5" y1="1434.1172" y2="1434.1172"/><polygon fill="#181818" points="319.5,1430.1172,309.5,1434.1172,319.5,1438.1172,315.5,1434.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187" x="315.5" y="1416.0513">POST&#160;/payments/v1/consents</text><polygon fill="#181818" points="552.5,1459.25,562.5,1463.25,552.5,1467.25,556.5,1463.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="558.5" y1="1463.25" y2="1463.25"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187" x="315.5" y="1458.1841">POST&#160;/payments/v1/consents</text><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="606.5" y1="1492.3828" y2="1492.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="606.5" y1="1492.3828" y2="1505.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="606.5" y1="1505.3828" y2="1505.3828"/><polygon fill="#181818" points="575.5,1501.3828,565.5,1505.3828,575.5,1509.3828,571.5,1505.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="229" x="571.5" y="1487.3169">Validate consent request properties</text><polygon fill="#181818" points="319.5,1545.6484,309.5,1549.6484,319.5,1553.6484,315.5,1549.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="563.5" y1="1549.6484" y2="1549.6484"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="79" x="325.5" y="1529.4497">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="108" x="325.5" y="1544.5825">{consentId:&#160;"..."}</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="88" x="433.5" y="1544.5825">API_GATEWAY</text><polygon fill="#181818" points="80.5,1589.9141,70.5,1593.9141,80.5,1597.9141,76.5,1593.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="1593.9141" y2="1593.9141"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="79" x="86.5" y="1573.7153">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="108" x="86.5" y="1588.8481">{consentId:&#160;"..."}</text><path d="M74,1606.9141 L74,1661.9141 L530,1661.9141 L530,1616.9141 L520,1606.9141 L74,1606.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M520,1606.9141 L520,1616.9141 L530,1616.9141 L520,1606.9141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="435" x="80" y="1623.981">The Data Recipient App can now create and send the Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="397" x="80" y="1639.1138">Request. This includes the dynamic scope that holds the value</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="37" x="80" y="1654.2466">of the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="62" x="121" y="1654.2466">consentId</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="218" x="187" y="1654.2466">returned by Identity Management.</text><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="111.5" y1="1688.4453" y2="1688.4453"/><line style="stroke:#181818;stroke-width:1.0;" x1="111.5" x2="111.5" y1="1688.4453" y2="1701.4453"/><line style="stroke:#181818;stroke-width:1.0;" x1="70.5" x2="111.5" y1="1701.4453" y2="1701.4453"/><polygon fill="#181818" points="80.5,1697.4453,70.5,1701.4453,80.5,1705.4453,76.5,1701.4453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="196" x="76.5" y="1683.3794">Create Authentication Request</text><polygon fill="#181818" points="296.5,1726.5781,306.5,1730.5781,296.5,1734.5781,300.5,1730.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="1730.5781" y2="1730.5781"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="122" x="76.5" y="1725.5122">POST&#160;/bc-authorize</text><polygon fill="#181818" points="1833.5,1755.7109,1843.5,1759.7109,1833.5,1763.7109,1837.5,1759.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="1759.7109" y2="1759.7109"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="1754.645">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,1784.8438,309.5,1788.8438,319.5,1792.8438,315.5,1788.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="1788.8438" y2="1788.8438"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="1783.7778">Response</text><polygon fill="#181818" points="1001,1813.9766,1011,1817.9766,1001,1821.9766,1005,1817.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="1817.9766" y2="1817.9766"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="122" x="315.5" y="1812.9106">POST&#160;/bc-authorize</text><path d="M1018,1830.9766 L1018,1915.9766 L1505,1915.9766 L1505,1840.9766 L1495,1830.9766 L1018,1830.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1495,1830.9766 L1495,1840.9766 L1505,1840.9766 L1495,1830.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="389" x="1024" y="1848.0435">As with the redirection-based FAPI profiles the Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="370" x="1024" y="1863.1763">Request is a JSON Web Signature. It therefore needs to be</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="384" x="1024" y="1878.3091">checked for validity. Note that in the context of CIBA Pushed</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="434" x="1024" y="1893.4419">Authorization Request is not required as the Authentication Request</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="466" x="1024" y="1908.5747">is always sent via a secured backchannel and never through the browser.</text><polygon fill="#181818" points="1695,1938.7734,1705,1942.7734,1695,1946.7734,1699,1942.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1701" y1="1942.7734" y2="1942.7734"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="143" x="1020" y="1937.7075">Get JSON Web Key Set</text><polygon fill="#181818" points="1024,1967.9063,1014,1971.9063,1024,1975.9063,1020,1971.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1018" x2="1706" y1="1971.9063" y2="1971.9063"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="1030" y="1966.8403">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="2016.1719" y2="2016.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="2016.1719" y2="2029.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="2029.1719" y2="2029.1719"/><polygon fill="#181818" points="1024,2025.1719,1014,2029.1719,1024,2033.1719,1020,2029.1719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="136" x="1020" y="1995.9731">Match Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="124" x="1020" y="2011.106">Request parameter</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="18" x="1148" y="2011.106">kid</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="2073.4375" y2="2073.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="2073.4375" y2="2086.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="2086.4375" y2="2086.4375"/><polygon fill="#181818" points="1024,2082.4375,1014,2086.4375,1024,2090.4375,1020,2086.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="133" x="1020" y="2053.2388">Verify Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="188" x="1020" y="2068.3716">Request parameter signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="2115.5703" y2="2115.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="2115.5703" y2="2128.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="2128.5703" y2="2128.5703"/><polygon fill="#181818" points="1024,2124.5703,1014,2128.5703,1024,2132.5703,1020,2128.5703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="205" x="1020" y="2110.5044">Validate Authentication Request</text><path d="M1018,2141.5703 L1018,2196.5703 L1369,2196.5703 L1369,2151.5703 L1359,2141.5703 L1018,2141.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1359,2141.5703 L1359,2151.5703 L1369,2151.5703 L1359,2141.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="330" x="1024" y="2158.6372">Note this approach is non-normative and the actual</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="330" x="1024" y="2173.77">implementation required should be considered on a</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="126" x="1024" y="2188.9028">case-by-case basis.</text><polygon fill="#181818" points="1308.5,2219.1016,1318.5,2223.1016,1308.5,2227.1016,1312.5,2223.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1314.5" y1="2223.1016" y2="2223.1016"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="260" x="1020" y="2218.0356">Send Authentication Request notification</text><polygon fill="#181818" points="319.5,2263.3672,309.5,2267.3672,319.5,2271.3672,315.5,2267.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="2267.3672" y2="2267.3672"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="79" x="325.5" y="2247.1685">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="121" x="325.5" y="2262.3013">{auth_req_id:&#160;"..."}</text><polygon fill="#181818" points="80.5,2307.6328,70.5,2311.6328,80.5,2315.6328,76.5,2311.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="2311.6328" y2="2311.6328"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="79" x="86.5" y="2291.4341">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="121" x="86.5" y="2306.5669">{auth_req_id:&#160;"..."}</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2265" x="0" y="2340.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="2340.1992" y2="2340.1992"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="2343.1992" y2="2343.1992"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="426" x="919.5" y="2329.6328"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="407" x="925.5" y="2345.6997">Part 2: Customer Authenticates at Mobile Banking App</text><path d="M1325,2367.7656 L1325,2452.7656 L1712,2452.7656 L1712,2377.7656 L1702,2367.7656 L1325,2367.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1702,2367.7656 L1702,2377.7656 L1712,2377.7656 L1702,2367.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="338" x="1331" y="2384.8325">The flow shown is a hypothetical approach to allowing</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="366" x="1331" y="2399.9653">the End User to authenticate and confirm consent. In this</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="355" x="1331" y="2415.0981">scenario has installed their mobile banking app and can</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="366" x="1331" y="2430.231">receive and act-on a request to authenticate and confirm</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="55" x="1331" y="2445.3638">consent.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1320.5" x2="1362.5" y1="2494.6953" y2="2494.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="1362.5" x2="1362.5" y1="2494.6953" y2="2507.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321.5" x2="1362.5" y1="2507.6953" y2="2507.6953"/><polygon fill="#181818" points="1331.5,2503.6953,1321.5,2507.6953,1331.5,2511.6953,1327.5,2507.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="156" x="1327.5" y="2474.4966">Correlate Authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="148" x="1327.5" y="2489.6294">Request with Customer</text><polygon fill="#181818" points="1569.5,2532.8281,1579.5,2536.8281,1569.5,2540.8281,1573.5,2536.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1320.5" x2="1575.5" y1="2536.8281" y2="2536.8281"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="237" x="1327.5" y="2531.7622">Trigger push notification to Customer</text><path d="M1586,2549.8281 L1586,2604.8281 L1931,2604.8281 L1931,2559.8281 L1921,2549.8281 L1586,2549.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1921,2549.8281 L1921,2559.8281 L1931,2559.8281 L1921,2549.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="324" x="1592" y="2566.895">The push notification needs to carry some context.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="108" x="1592" y="2582.0278">For example, the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="62" x="1704" y="2582.0278">consentId</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="96" x="1770" y="2582.0278">- to require the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="220" x="1592" y="2597.1606">consent to be correlated correctly.</text><polygon fill="#181818" points="1938,2627.3594,1948,2631.3594,1938,2635.3594,1942,2631.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1581.5" x2="1944" y1="2631.3594" y2="2631.3594"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="288" x="1588.5" y="2626.2935">Send push notification to mobile banking app</text><polygon fill="#181818" points="2211,2656.4922,2221,2660.4922,2211,2664.4922,2215,2660.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="2217" y1="2660.4922" y2="2660.4922"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="104" x="1957" y="2655.4263">Notify Customer</text><polygon fill="#181818" points="1961,2685.625,1951,2689.625,1961,2693.625,1957,2689.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1955" x2="2222" y1="2689.625" y2="2689.625"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="97" x="1967" y="2684.5591">Tap notification</text><polygon fill="#181818" points="2211,2729.8906,2221,2733.8906,2211,2737.8906,2215,2733.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="2217" y1="2733.8906" y2="2733.8906"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="116" x="1957" y="2713.6919">Request biometric</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="151" x="1957" y="2728.8247">gesture to authenticate</text><polygon fill="#181818" points="1961,2774.1563,1951,2778.1563,1961,2782.1563,1957,2778.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1955" x2="2222" y1="2778.1563" y2="2778.1563"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="113" x="1967" y="2757.9575">Present biometric</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="49" x="1967" y="2773.0903">gesture</text><path d="M1325,2791.1563 L1325,2910.1563 L1743,2910.1563 L1743,2801.1563 L1733,2791.1563 L1325,2791.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1733,2791.1563 L1733,2801.1563 L1743,2801.1563 L1733,2791.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="374" x="1331" y="2808.2231">As with the majority of mobile banking apps authentication</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="396" x="1331" y="2823.356">in this example is outsourced to the mobile operating system.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="397" x="1331" y="2838.4888">Once the customer has authenticated the mobile banking app</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="375" x="1331" y="2853.6216">simply sends a "user authenticated" notification to the IDP.</text><line style="stroke:#000000;stroke-width:0.5;" x1="1331" x2="1331" y1="2858.6875" y2="2858.6875"/><line style="stroke:#000000;stroke-width:0.5;" x1="1331" x2="1331" y1="2858.6875" y2="2858.6875"/><line style="stroke:#000000;stroke-width:0.5;" x1="1331" x2="1331" y1="2858.6875" y2="2858.6875"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="354" x="1331" y="2872.7544">This flow is non-normative, implementation-specific and</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="371" x="1331" y="2887.8872">would be created based on the implementors architecture</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="102" x="1331" y="2903.02">and technology.</text><polygon fill="#181818" points="1331.5,2933.2188,1321.5,2937.2188,1331.5,2941.2188,1327.5,2937.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1325.5" x2="1949" y1="2937.2188" y2="2937.2188"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="197" x="1337.5" y="2932.1528">User authenticated notification</text><polygon fill="#181818" points="1938,2962.3516,1948,2966.3516,1938,2970.3516,1942,2966.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1320.5" x2="1944" y1="2966.3516" y2="2966.3516"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="117" x="1327.5" y="2961.2856">Acknowledgement</text><polygon fill="#181818" points="1592.5,2991.4844,1582.5,2995.4844,1592.5,2999.4844,1588.5,2995.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1586.5" x2="1949" y1="2995.4844" y2="2995.4844"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="181" x="1598.5" y="2990.4185">Request Customer accounts</text><polygon fill="#181818" points="1938,3020.6172,1948,3024.6172,1938,3028.6172,1942,3024.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1581.5" x2="1944" y1="3024.6172" y2="3024.6172"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="1588.5" y="3019.5513">Response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2265" x="0" y="3053.1836"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="3053.1836" y2="3053.1836"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="3056.1836" y2="3056.1836"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="436" x="914.5" y="3042.6172"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="417" x="920.5" y="3058.6841">Part 3: Customer Confirms Consent and Selects Account</text><path d="M1507,3080.75 L1507,3199.75 L1945,3199.75 L1945,3090.75 L1935,3080.75 L1507,3080.75 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1935,3080.75 L1935,3090.75 L1945,3090.75 L1935,3080.75 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="395" x="1513" y="3097.8169">As Consent needs to be retrieved from a hostile security zone</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="386" x="1513" y="3112.9497">i.e. from a Customer's mobile device the request to Consent</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="384" x="1513" y="3128.0825">Management should be routed via the Ingress Controller/API</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="375" x="1513" y="3143.2153">Gateway. This flow is implementation-specific and would be</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="417" x="1513" y="3158.3481">created based on the implementors architecture and technology.</text><line style="stroke:#000000;stroke-width:0.5;" x1="1513" x2="1513" y1="3163.4141" y2="3163.4141"/><line style="stroke:#000000;stroke-width:0.5;" x1="1513" x2="1513" y1="3163.4141" y2="3163.4141"/><line style="stroke:#000000;stroke-width:0.5;" x1="1513" x2="1513" y1="3163.4141" y2="3163.4141"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="313" x="1513" y="3177.481">In this example the Customer is the sole account</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="379" x="1513" y="3192.6138">holder and therefore no further authorizations are required.</text><polygon fill="#181818" points="319.5,3222.8125,309.5,3226.8125,319.5,3230.8125,315.5,3226.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.5" x2="1949" y1="3226.8125" y2="3226.8125"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="107" x="325.5" y="3221.7466">Retrieve consent</text><polygon fill="#181818" points="552.5,3251.9453,562.5,3255.9453,552.5,3259.9453,556.5,3255.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="558.5" y1="3255.9453" y2="3255.9453"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="107" x="315.5" y="3250.8794">Retrieve consent</text><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="606.5" y1="3285.0781" y2="3285.0781"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="606.5" y1="3285.0781" y2="3298.0781"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="606.5" y1="3298.0781" y2="3298.0781"/><polygon fill="#181818" points="575.5,3294.0781,565.5,3298.0781,575.5,3302.0781,571.5,3298.0781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="109" x="571.5" y="3280.0122">Retrieve Consent</text><polygon fill="#181818" points="319.5,3323.2109,309.5,3327.2109,319.5,3331.2109,315.5,3327.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="563.5" y1="3327.2109" y2="3327.2109"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="3322.145">Response</text><polygon fill="#181818" points="1938,3352.3438,1948,3356.3438,1938,3360.3438,1942,3356.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="308.5" x2="1944" y1="3356.3438" y2="3356.3438"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="315.5" y="3351.2778">Response</text><path d="M1586,3369.3438 L1586,3469.3438 L2133,3469.3438 L2133,3379.3438 L2123,3369.3438 L1586,3369.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2123,3369.3438 L2123,3379.3438 L2133,3379.3438 L2123,3369.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="526" x="1592" y="3386.4106">The Consent Confirmation screen requires the following properties to be displayed:</text><ellipse cx="1597.5" cy="3397.1094" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="118" x="1604" y="3401.5435">Transaction Value.</text><ellipse cx="1597.5" cy="3412.2422" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="279" x="1604" y="3416.6763">Recipient details (name, in Brazil CPF/CNPJ).</text><ellipse cx="1597.5" cy="3427.375" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="96" x="1604" y="3431.8091">Payment Date.</text><ellipse cx="1597.5" cy="3442.5078" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="365" x="1604" y="3446.9419">Payment method (for example, in Brazil it is fixed as PIX).</text><ellipse cx="1597.5" cy="3457.6406" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="264" x="1604" y="3462.0747">Fee amount charged by the bank (if any).</text><path d="M1535,3482.1406 L1605,3482.1406 L1605,3489.2734 L1595,3499.2734 L1535,3499.2734 L1535,3482.1406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="449.1953" style="stroke:#000000;stroke-width:1.5;" width="703" x="1535" y="3482.1406"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="1550" y="3495.2075">par</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220" x="1620" y="3494.3511">[Request fee amount for payment]</text><path d="M1586,3504.2734 L1586,3529.2734 L2009,3529.2734 L2009,3514.2734 L1999,3504.2734 L1586,3504.2734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1999,3504.2734 L1999,3514.2734 L2009,3514.2734 L1999,3504.2734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="402" x="1592" y="3521.3403">Fees for payment must be provided from the Banking Systems</text><polygon fill="#181818" points="1592.5,3551.5391,1582.5,3555.5391,1592.5,3559.5391,1588.5,3555.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1586.5" x2="1949" y1="3555.5391" y2="3555.5391"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="130" x="1598.5" y="3550.4731">Request fee amount</text><polygon fill="#181818" points="1938,3580.6719,1948,3584.6719,1938,3588.6719,1942,3584.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1581.5" x2="1944" y1="3584.6719" y2="3584.6719"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="1588.5" y="3579.606">Response</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1535" x2="2238" y1="3593.6719" y2="3593.6719"/><path d="M1576,3601.6719 L1640,3601.6719 L1640,3608.8047 L1630,3618.8047 L1576,3618.8047 L1576,3601.6719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="322.6641" style="stroke:#000000;stroke-width:1.5;" width="652" x="1576" y="3601.6719"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1591" y="3614.7388">alt</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="266" x="1655" y="3613.8823">[Debtor account not provided in Consent]</text><path d="M1586,3623.8047 L1586,3738.8047 L2068,3738.8047 L2068,3633.8047 L2058,3623.8047 L1586,3623.8047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2058,3623.8047 L2058,3633.8047 L2068,3633.8047 L2058,3623.8047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="410" x="1592" y="3640.8716">If the debtor account has not been provided in the Consent then</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="379" x="1592" y="3656.0044">the customer's payment accounts will need to be retrieved:</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="4" x="1592" y="3671.1372">&#160;</text><ellipse cx="1597.5" cy="3681.8359" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="449" x="1604" y="3686.27">If the customer only has one payment account then this is the default.</text><ellipse cx="1597.5" cy="3696.9688" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="411" x="1604" y="3701.4028">If they have multiple accounts they should be able to select one.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="4" x="1592" y="3716.5356">&#160;</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="423" x="1592" y="3731.6685">This should be incorporated into the Consent Confirmation screen.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="1992" y1="3765.8672" y2="3765.8672"/><line style="stroke:#181818;stroke-width:1.0;" x1="1992" x2="1992" y1="3765.8672" y2="3778.8672"/><line style="stroke:#181818;stroke-width:1.0;" x1="1951" x2="1992" y1="3778.8672" y2="3778.8672"/><polygon fill="#181818" points="1961,3774.8672,1951,3778.8672,1961,3782.8672,1957,3778.8672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="259" x="1957" y="3760.8013">Query account list for payment accounts</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1576" x2="2228" y1="3787.8672" y2="3787.8672"/><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="241" x="1581" y="3798.0776">[Debtor account provided in Consent]</text><path d="M1586,3806.6719 L1586,3876.6719 L2027,3876.6719 L2027,3816.6719 L2017,3806.6719 L1586,3806.6719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2017,3806.6719 L2017,3816.6719 L2027,3816.6719 L2017,3806.6719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="415" x="1592" y="3823.7388">If the debtor account has already been provided ownership of the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="160" x="1592" y="3838.8716">account by the customer</text><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37" x="1756" y="3838.8716">must</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="1797" y="3838.8716">be verified. In this example this</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="420" x="1592" y="3854.0044">can be done at the Mobile Banking App as it has already retrieved</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="190" x="1592" y="3869.1372">the list of customer accounts.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="1992" y1="3903.3359" y2="3903.3359"/><line style="stroke:#181818;stroke-width:1.0;" x1="1992" x2="1992" y1="3903.3359" y2="3916.3359"/><line style="stroke:#181818;stroke-width:1.0;" x1="1951" x2="1992" y1="3916.3359" y2="3916.3359"/><polygon fill="#181818" points="1961,3912.3359,1951,3916.3359,1961,3920.3359,1957,3916.3359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="205" x="1957" y="3898.27">Verify debtor account ownership</text><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="1992" y1="3974.6016" y2="3974.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="1992" x2="1992" y1="3974.6016" y2="3987.6016"/><line style="stroke:#181818;stroke-width:1.0;" x1="1951" x2="1992" y1="3987.6016" y2="3987.6016"/><polygon fill="#181818" points="1961,3983.6016,1951,3987.6016,1961,3991.6016,1957,3987.6016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="100" x="1957" y="3954.4028">Render consent</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="127" x="1957" y="3969.5356">confirmation screen</text><polygon fill="#181818" points="2211,4027.8672,2221,4031.8672,2211,4035.8672,2215,4031.8672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="2217" y1="4031.8672" y2="4031.8672"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="107" x="1957" y="4011.6685">Request consent</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="80" x="1957" y="4026.8013">confirmation</text><polygon fill="#181818" points="1961,4057,1951,4061,1961,4065,1957,4061" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1955" x2="2222" y1="4061" y2="4061"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="105" x="1967" y="4055.9341">Confirm consent</text><polygon fill="#181818" points="319.5,4086.1328,309.5,4090.1328,319.5,4094.1328,315.5,4090.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.5" x2="1949" y1="4090.1328" y2="4090.1328"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="193" x="325.5" y="4085.0669">Update consent as authorized</text><polygon fill="#181818" points="552.5,4115.2656,562.5,4119.2656,552.5,4123.2656,556.5,4119.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="558.5" y1="4119.2656" y2="4119.2656"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="102" x="315.5" y="4114.1997">Update consent</text><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="606.5" y1="4148.3984" y2="4148.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="606.5" x2="606.5" y1="4148.3984" y2="4161.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="606.5" y1="4161.3984" y2="4161.3984"/><polygon fill="#181818" points="575.5,4157.3984,565.5,4161.3984,575.5,4165.3984,571.5,4161.3984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="104" x="571.5" y="4143.3325">Update Consent</text><polygon fill="#181818" points="319.5,4186.5313,309.5,4190.5313,319.5,4194.5313,315.5,4190.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="563.5" y1="4190.5313" y2="4190.5313"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="4185.4653">Response</text><polygon fill="#181818" points="1938,4215.6641,1948,4219.6641,1938,4223.6641,1942,4219.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="308.5" x2="1944" y1="4219.6641" y2="4219.6641"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="315.5" y="4214.5981">Response</text><path d="M1576,4232.6641 L1576,4347.6641 L1945,4347.6641 L1945,4242.6641 L1935,4232.6641 L1576,4232.6641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1935,4232.6641 L1935,4242.6641 L1945,4242.6641 L1935,4232.6641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="306" x="1582" y="4249.731">The final step is to call the Identity Management</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="329" x="1582" y="4264.8638">component to indicate that the Customer has been</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="329" x="1582" y="4279.9966">authenticated. Identity Management will then signal</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="348" x="1582" y="4295.1294">to the Data Recipient App using the chosen mode that</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="283" x="1582" y="4310.2622">authentication is complete. Again this flow is</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="337" x="1582" y="4325.395">implementation-specific and would be created based</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="321" x="1582" y="4340.5278">on the implementors architecture and technology.</text><polygon fill="#181818" points="1024,4370.7266,1014,4374.7266,1024,4378.7266,1020,4374.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1018" x2="1949" y1="4374.7266" y2="4374.7266"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="231" x="1030" y="4369.6606">Authentication complete notification</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2265" x="0" y="4403.293"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="4403.293" y2="4403.293"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="4406.293" y2="4406.293"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="286" x="989.5" y="4392.7266"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="267" x="995.5" y="4408.7935">Part 4: Client Granted Access Token</text><path d="M74,4430.8594 L74,4622.8594 L529,4622.8594 L529,4440.8594 L519,4430.8594 L74,4430.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M519,4430.8594 L519,4440.8594 L529,4440.8594 L519,4430.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="166" x="80" y="4447.9263">Notes on Token behaviors</text><line style="stroke:#181818;stroke-width:1.0;" x1="75" x2="528" y1="4450.9922" y2="4450.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="75" x2="528" y1="4452.9922" y2="4452.9922"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="383" x="80" y="4467.0591">The Data Recipient App is made aware of the success of the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="364" x="80" y="4482.1919">based on their registered delivery mode. Each of these is</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="84" x="80" y="4497.3247">shown below.</text><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="4502.3906" y2="4502.3906"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="4502.3906" y2="4502.3906"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="4502.3906" y2="4502.3906"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="347" x="80" y="4516.4575">Note that the Poll looping example is purely illustrative</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="395" x="80" y="4531.5903">as the Data Recipient App would poll as soon as they received</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="21" x="80" y="4546.7231">the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="75" x="105" y="4546.7231">auth_req_id</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="227" x="184" y="4546.7231">from the AS. Writing the diagram to</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="434" x="80" y="4561.856">incorporate this sequentially would, however be extremely confusing</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="218" x="80" y="4576.9888">hence the sequence shown below.</text><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="4582.0547" y2="4582.0547"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="4582.0547" y2="4582.0547"/><line style="stroke:#000000;stroke-width:0.5;" x1="80" x2="80" y1="4582.0547" y2="4582.0547"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="386" x="80" y="4596.1216">For Poll and Ping mode the Data Recipient App must use the</text><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" target="_top" title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" xlink:actuate="onRequest" xlink:href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" xlink:show="new" xlink:title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.1" xlink:type="simple"><text fill="#0000FF" font-family="Roboto" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="100" x="80" y="4611.2544">CIBA grant type</text></a><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="255" x="184" y="4611.2544">as described in the source specification.</text><path d="M10,4635.3203 L74,4635.3203 L74,4642.4531 L64,4652.4531 L10,4652.4531 L10,4635.3203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1396.8516" style="stroke:#000000;stroke-width:1.5;" width="1915" x="10" y="4635.3203"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="4648.3872">alt</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188" x="89" y="4647.5308">[Client Registered Poll Mode]</text><path d="M74,4657.4531 L74,4727.4531 L523,4727.4531 L523,4667.4531 L513,4657.4531 L74,4657.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M513,4657.4531 L513,4667.4531 L523,4667.4531 L513,4657.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="374" x="80" y="4674.52">In Poll mode the DR will periodically call the Token endpoint</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="362" x="80" y="4689.6528">until they get a positive response i.e. they do not receive</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="428" x="80" y="4704.7856">the 400 HTTP response code but instead are returned one-or-more</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="344" x="80" y="4719.9185">tokens (Access, Refresh, ID) from the Token endpoint.</text><path d="M20,4739.9844 L97,4739.9844 L97,4747.1172 L87,4757.1172 L20,4757.1172 L20,4739.9844 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="276.1953" style="stroke:#000000;stroke-width:1.5;" width="1895" x="20" y="4739.9844"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="35" y="4753.0513">loop</text><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="299" x="112" y="4752.1948">[Exit when Authentication Request successful]</text><polygon fill="#181818" points="296.5,4774.25,306.5,4778.25,296.5,4782.25,300.5,4778.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="4778.25" y2="4778.25"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="180" x="76.5" y="4773.1841">POST&#160;/token&#160;auth_req_id=...</text><polygon fill="#181818" points="1833.5,4803.3828,1843.5,4807.3828,1833.5,4811.3828,1837.5,4807.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="4807.3828" y2="4807.3828"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="4802.3169">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,4832.5156,309.5,4836.5156,319.5,4840.5156,315.5,4836.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="4836.5156" y2="4836.5156"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="4831.4497">Response</text><polygon fill="#181818" points="1001,4861.6484,1011,4865.6484,1001,4869.6484,1005,4865.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="4865.6484" y2="4865.6484"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="180" x="315.5" y="4860.5825">POST&#160;/token&#160;auth_req_id=...</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="4894.7813" y2="4894.7813"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="4894.7813" y2="4907.7813"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="4907.7813" y2="4907.7813"/><polygon fill="#181818" points="1024,4903.7813,1014,4907.7813,1024,4911.7813,1020,4907.7813" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="202" x="1020" y="4889.7153">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="4936.9141" y2="4936.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="4936.9141" y2="4949.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="4949.9141" y2="4949.9141"/><polygon fill="#181818" points="1024,4945.9141,1014,4949.9141,1024,4953.9141,1020,4949.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="83" x="1020" y="4931.8481">Check status</text><polygon fill="#181818" points="319.5,4975.0469,309.5,4979.0469,319.5,4983.0469,315.5,4979.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="4979.0469" y2="4979.0469"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="141" x="325.5" y="4973.981">400&#160;Bad&#160;Request&#160;{...}</text><polygon fill="#181818" points="80.5,5004.1797,70.5,5008.1797,80.5,5012.1797,76.5,5008.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="5008.1797" y2="5008.1797"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="141" x="86.5" y="5003.1138">400&#160;Bad&#160;Request&#160;{...}</text><polygon fill="#181818" points="296.5,5040.3125,306.5,5044.3125,296.5,5048.3125,300.5,5044.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="5044.3125" y2="5044.3125"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="180" x="76.5" y="5039.2466">POST&#160;/token&#160;auth_req_id=...</text><polygon fill="#181818" points="1833.5,5069.4453,1843.5,5073.4453,1833.5,5077.4453,1837.5,5073.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="5073.4453" y2="5073.4453"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="5068.3794">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,5098.5781,309.5,5102.5781,319.5,5106.5781,315.5,5102.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="5102.5781" y2="5102.5781"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="5097.5122">Response</text><polygon fill="#181818" points="1001,5127.7109,1011,5131.7109,1001,5135.7109,1005,5131.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="5131.7109" y2="5131.7109"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="180" x="315.5" y="5126.645">POST&#160;/token&#160;auth_req_id=...</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5160.8438" y2="5160.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5160.8438" y2="5173.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5173.8438" y2="5173.8438"/><polygon fill="#181818" points="1024,5169.8438,1014,5173.8438,1024,5177.8438,1020,5173.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="202" x="1020" y="5155.7778">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5202.9766" y2="5202.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5202.9766" y2="5215.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5215.9766" y2="5215.9766"/><polygon fill="#181818" points="1024,5211.9766,1014,5215.9766,1024,5219.9766,1020,5215.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="83" x="1020" y="5197.9106">Check status</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5245.1094" y2="5245.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5245.1094" y2="5258.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5258.1094" y2="5258.1094"/><polygon fill="#181818" points="1024,5254.1094,1014,5258.1094,1024,5262.1094,1020,5258.1094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="90" x="1020" y="5240.0435">Create tokens</text><polygon fill="#181818" points="319.5,5283.2422,309.5,5287.2422,319.5,5291.2422,315.5,5287.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="5287.2422" y2="5287.2422"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="78" x="325.5" y="5282.1763">200&#160;OK&#160;{...}</text><polygon fill="#181818" points="80.5,5312.375,70.5,5316.375,80.5,5320.375,76.5,5316.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="5316.375" y2="5316.375"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="78" x="86.5" y="5311.3091">200&#160;OK&#160;{...}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1925" y1="5325.375" y2="5325.375"/><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="192" x="15" y="5335.5854">[Client Registered Ping Mode]</text><path d="M74,5344.1797 L74,5414.1797 L509,5414.1797 L509,5354.1797 L499,5344.1797 L74,5344.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M499,5344.1797 L499,5354.1797 L509,5354.1797 L499,5344.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="364" x="80" y="5361.2466">Ping mode is a simple notification by the AS to a callback</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="373" x="80" y="5376.3794">URL pre-registered by the Data Recipient App in Part 0. On</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="407" x="80" y="5391.5122">receipt the Data Recipient App can then call the Token endpoint</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="414" x="80" y="5406.645">in the same way as in Poll mode and collect one-or-more tokens.</text><polygon fill="#181818" points="80.5,5436.8438,70.5,5440.8438,80.5,5444.8438,76.5,5440.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="74.5" x2="1012" y1="5440.8438" y2="5440.8438"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="287" x="86.5" y="5435.7778">Authentication Request complete notification</text><polygon fill="#181818" points="1001,5465.9766,1011,5469.9766,1001,5473.9766,1005,5469.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="1007" y1="5469.9766" y2="5469.9766"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="101" x="76.5" y="5464.9106">204&#160;No&#160;Content</text><polygon fill="#181818" points="296.5,5495.1094,306.5,5499.1094,296.5,5503.1094,300.5,5499.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="5499.1094" y2="5499.1094"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="180" x="76.5" y="5494.0435">POST&#160;/token&#160;auth_req_id=...</text><polygon fill="#181818" points="1833.5,5524.2422,1843.5,5528.2422,1833.5,5532.2422,1837.5,5528.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="5528.2422" y2="5528.2422"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="5523.1763">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,5553.375,309.5,5557.375,319.5,5561.375,315.5,5557.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="5557.375" y2="5557.375"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="5552.3091">Response</text><polygon fill="#181818" points="1001,5582.5078,1011,5586.5078,1001,5590.5078,1005,5586.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="5586.5078" y2="5586.5078"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="180" x="315.5" y="5581.4419">POST&#160;/token&#160;auth_req_id=...</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5615.6406" y2="5615.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5615.6406" y2="5628.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5628.6406" y2="5628.6406"/><polygon fill="#181818" points="1024,5624.6406,1014,5628.6406,1024,5632.6406,1020,5628.6406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="202" x="1020" y="5610.5747">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5657.7734" y2="5657.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5657.7734" y2="5670.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5670.7734" y2="5670.7734"/><polygon fill="#181818" points="1024,5666.7734,1014,5670.7734,1024,5674.7734,1020,5670.7734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="90" x="1020" y="5652.7075">Create tokens</text><polygon fill="#181818" points="319.5,5695.9063,309.5,5699.9063,319.5,5703.9063,315.5,5699.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="5699.9063" y2="5699.9063"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="78" x="325.5" y="5694.8403">200&#160;OK&#160;{...}</text><polygon fill="#181818" points="80.5,5725.0391,70.5,5729.0391,80.5,5733.0391,76.5,5729.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="5729.0391" y2="5729.0391"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="78" x="86.5" y="5723.9731">200&#160;OK&#160;{...}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1925" y1="5738.0391" y2="5738.0391"/><text fill="#000000" font-family="Roboto" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="195" x="15" y="5748.2495">[Client Registered Push Mode]</text><path d="M74,5756.8438 L74,5826.8438 L523,5826.8438 L523,5766.8438 L513,5756.8438 L74,5756.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M513,5756.8438 L513,5766.8438 L523,5766.8438 L513,5756.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="418" x="80" y="5773.9106">In Push mode tokens are created by the AS and then transmitted</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="428" x="80" y="5789.0435">to the Data Recipient App, therefore negating the need for them to</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="400" x="80" y="5804.1763">visit the Token endpoint. Their are various implications of using</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="248" x="80" y="5819.3091">this method which are discussed in the</text><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" target="_top" title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" xlink:actuate="onRequest" xlink:href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" xlink:show="new" xlink:title="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html#rfc.section.10.3" xlink:type="simple"><text fill="#0000FF" font-family="Roboto" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="79" x="332" y="5819.3091">specification</text></a><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="4" x="411" y="5819.3091">.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5853.5078" y2="5853.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5853.5078" y2="5866.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5866.5078" y2="5866.5078"/><polygon fill="#181818" points="1024,5862.5078,1014,5866.5078,1024,5870.5078,1020,5866.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="202" x="1020" y="5848.4419">Retrieve Authentication request</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5895.6406" y2="5895.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5895.6406" y2="5908.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5908.6406" y2="5908.6406"/><polygon fill="#181818" points="1024,5904.6406,1014,5908.6406,1024,5912.6406,1020,5908.6406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="90" x="1020" y="5890.5747">Create tokens</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="5952.9063" y2="5952.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="5952.9063" y2="5965.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="5965.9063" y2="5965.9063"/><polygon fill="#181818" points="1024,5961.9063,1014,5965.9063,1024,5969.9063,1020,5965.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="218" x="1020" y="5932.7075">Retrieve callback URL and security</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="183" x="1020" y="5947.8403">token for Data Recipient App</text><polygon fill="#181818" points="80.5,5991.0391,70.5,5995.0391,80.5,5999.0391,76.5,5995.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="74.5" x2="1012" y1="5995.0391" y2="5995.0391"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="89" x="86.5" y="5989.9731">POST&#160;/cb&#160;{...}</text><polygon fill="#181818" points="1001,6020.1719,1011,6024.1719,1001,6028.1719,1005,6024.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="1007" y1="6024.1719" y2="6024.1719"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="101" x="76.5" y="6019.106">204&#160;No&#160;Content</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2265" x="0" y="6059.7383"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="6059.7383" y2="6059.7383"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2265" y1="6062.7383" y2="6062.7383"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="367" x="949" y="6049.1719"/><text fill="#000000" font-family="Roboto" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="348" x="955" y="6065.2388">Part 5: DR Makes Payment Instruction Request</text><path d="M74,6087.3047 L74,6157.3047 L496,6157.3047 L496,6097.3047 L486,6087.3047 L74,6087.3047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M486,6087.3047 L486,6097.3047 L496,6097.3047 L486,6087.3047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="401" x="80" y="6104.3716">With the Access Token in hand the Data Recipient App can now</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="368" x="80" y="6119.5044">make the payment instruction request. The Access Token</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="364" x="80" y="6134.6372">is bound to this single operation and will be revoked once</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="330" x="80" y="6149.77">the payment instruction is successfully transmitted.</text><polygon fill="#181818" points="296.5,6179.9688,306.5,6183.9688,296.5,6187.9688,300.5,6183.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69.5" x2="302.5" y1="6183.9688" y2="6183.9688"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="215" x="76.5" y="6178.9028">POST&#160;/payments/v1/pix/payments</text><polygon fill="#181818" points="1833.5,6209.1016,1843.5,6213.1016,1833.5,6217.1016,1837.5,6213.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1839.5" y1="6213.1016" y2="6213.1016"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="198" x="315.5" y="6208.0356">Check Client Certificate Validity</text><polygon fill="#181818" points="319.5,6238.2344,309.5,6242.2344,319.5,6246.2344,315.5,6242.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1844.5" y1="6242.2344" y2="6242.2344"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="6237.1685">Response</text><path d="M313,6255.2344 L313,6310.2344 L846,6310.2344 L846,6265.2344 L836,6255.2344 L313,6255.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M836,6255.2344 L836,6265.2344 L846,6265.2344 L836,6255.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="512" x="319" y="6272.3013">The approach to Access Token introspection remains the same under payments</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="493" x="319" y="6287.4341">i.e. the API Gateway will need an assertion that indicates the consent granted</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="364" x="319" y="6302.5669">by the Customer matches the payment being instructed.</text><polygon fill="#181818" points="1001,6332.7656,1011,6336.7656,1001,6340.7656,1005,6336.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="1007" y1="6336.7656" y2="6336.7656"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="212" x="315.5" y="6331.6997">Request Access Token properties</text><line style="stroke:#181818;stroke-width:1.0;" x1="1013" x2="1055" y1="6365.8984" y2="6365.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1055" y1="6365.8984" y2="6378.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1014" x2="1055" y1="6378.8984" y2="6378.8984"/><polygon fill="#181818" points="1024,6374.8984,1014,6378.8984,1024,6382.8984,1020,6378.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="212" x="1020" y="6360.8325">Retrieve Access Token properties</text><polygon fill="#181818" points="319.5,6404.0313,309.5,6408.0313,319.5,6412.0313,315.5,6408.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="1012" y1="6408.0313" y2="6408.0313"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="325.5" y="6402.9653">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="350.5" y1="6437.1641" y2="6437.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="350.5" x2="350.5" y1="6437.1641" y2="6450.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="309.5" x2="350.5" y1="6450.1641" y2="6450.1641"/><polygon fill="#181818" points="319.5,6446.1641,309.5,6450.1641,319.5,6454.1641,315.5,6450.1641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="224" x="315.5" y="6432.0981">Introspect Access Token properties</text><path d="M313,6463.1641 L313,6533.1641 L845,6533.1641 L845,6473.1641 L835,6463.1641 L313,6463.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M835,6463.1641 L835,6473.1641 L845,6473.1641 L835,6463.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="437" x="319" y="6480.231">On introspecting the Access Token the API Gateway will decorate the</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="473" x="319" y="6495.3638">request with the debtor account which is stored with the Consent. This can</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="511" x="319" y="6510.4966">then be forwarded to the Core Banking Connector and used to make the correct</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="287" x="319" y="6525.6294">payment instruction in the Banking Systems.</text><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="350.5" y1="6559.8281" y2="6559.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="350.5" x2="350.5" y1="6559.8281" y2="6572.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="309.5" x2="350.5" y1="6572.8281" y2="6572.8281"/><polygon fill="#181818" points="319.5,6568.8281,309.5,6572.8281,319.5,6576.8281,315.5,6572.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="242" x="315.5" y="6554.7622">Decorate request with debtor account</text><polygon fill="#181818" points="795.5,6597.9609,805.5,6601.9609,795.5,6605.9609,799.5,6601.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="308.5" x2="801.5" y1="6601.9609" y2="6601.9609"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="215" x="315.5" y="6596.895">POST&#160;/payments/v1/pix/payments</text><path d="M812,6614.9609 L812,6669.9609 L1264,6669.9609 L1264,6624.9609 L1254,6614.9609 L812,6614.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1254,6614.9609 L1254,6624.9609 L1264,6624.9609 L1254,6614.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="425" x="818" y="6632.0278">This flow is non-normative and will vary on customer requirements.</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="8" x="818" y="6647.1606">It</text><text fill="#000000" font-family="Roboto" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="830" y="6647.1606">could</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="381" x="868" y="6647.1606">be to a PIX-compliant API or any other available mechanism</text><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="153" x="818" y="6662.2935">to make a PIX payment.</text><line style="stroke:#181818;stroke-width:1.0;" x1="807.5" x2="849.5" y1="6696.4922" y2="6696.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="849.5" x2="849.5" y1="6696.4922" y2="6709.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="808.5" x2="849.5" y1="6709.4922" y2="6709.4922"/><polygon fill="#181818" points="818.5,6705.4922,808.5,6709.4922,818.5,6713.4922,814.5,6709.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="158" x="814.5" y="6691.4263">Mediate request payload</text><polygon fill="#181818" points="1569.5,6734.625,1579.5,6738.625,1569.5,6742.625,1573.5,6738.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="807.5" x2="1575.5" y1="6738.625" y2="6738.625"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="325" x="814.5" y="6733.5591">Deliver payment instruction to Banking System API</text><polygon fill="#181818" points="818.5,6763.7578,808.5,6767.7578,818.5,6771.7578,814.5,6767.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="812.5" x2="1580.5" y1="6767.7578" y2="6767.7578"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="62" x="824.5" y="6762.6919">Response</text><line style="stroke:#181818;stroke-width:1.0;" x1="807.5" x2="849.5" y1="6796.8906" y2="6796.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="849.5" x2="849.5" y1="6796.8906" y2="6809.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="808.5" x2="849.5" y1="6809.8906" y2="6809.8906"/><polygon fill="#181818" points="818.5,6805.8906,808.5,6809.8906,818.5,6813.8906,814.5,6809.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Roboto" font-size="13" lengthAdjust="spacing" textLength="168" x="814.5" y="6791.8247">Mediate response payload</text><polygon fill="#181818" points="319.5,6850.1563,309.5,6854.1563,319.5,6858.1563,315.5,6854.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="313.5" x2="806.5" y1="6854.1563" y2="6854.1563"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="79" x="325.5" y="6833.9575">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="114" x="325.5" y="6849.0903">{paymentId:&#160;"..."}</text><polygon fill="#181818" points="80.5,6894.4219,70.5,6898.4219,80.5,6902.4219,76.5,6898.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74.5" x2="307.5" y1="6898.4219" y2="6898.4219"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="79" x="86.5" y="6878.2231">201&#160;Created</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="114" x="86.5" y="6893.356">{paymentId:&#160;"..."}</text><!--SRC=[xLjjSzis4lwENu5HFpZrHBAJfhqxp-LcP3l9gQrZdUKqlQap7eY49DGKmHAaRRMz_twx2u04HLAn-tRzS9CPHnA1nMBtsHSibeKg4iclKlp7LYgMVA5rCTVtZ6KYBrIaCf4MV70g2d6LNaZuhcHQNANZB1jmOVZf1MCmd8_NMQ8M6_wwD4gd_9ClNe__UdhI93AUJgxIDwAGTs93a-67wpVZorVln_zkZZpHgQ5bpaGgbd8Ddsd2oVdRsQktbzk3SycFHNgZqYLi1UQcCYfqRcSSdp2PnfosX8nEOY2cYWqNyEiuYgI1GJejSftmJ_xs8dhnbxX9lffGytAL3eT3a45Ph7IkVXG5Rdacyrjf5vsCpvgBDbW4qIKgeac6Vn9_BhwORotfHbwbVkshT9hhMr2FfJ-UJMVJwydfj6VQR6CAkJR1M91qpL5ZqdacKrxDF5KvoMxZjlZbxFmjVo_d_2kvWHrQBPmVdrv_-VwhsPOQ97nPuCPa9Ph2qpa_cKtvgpJEj7Agn5-Q1CxqN2KmjsB6O-pi_7ZozIica35OfpI5NZj9J6VlM1Et1kO2MR7ciLo8CYbUWtBVYhNa5tgk2nqCEDRtKn77g9DdXuozVCcdm0y_FE8NSgbCaLl5wWM_r3SWfLEPA53nXazpkP2vJ04y_ELBnb9TI9whvQh0mM0I9vFZCS_b3oM8q_1Y9Gf-ag3X6FWLISkS2s3GqLjhs42MAzXUeM6uPB1sQjRA6CU0I3SSPOfmiD017dyefIdC4Vlvvv_PTz-jYY8pHmS76XIgub4gYmEJoSYu7uOHCJ1KgIeKw2WUpaLq4wq4M4io50tQmmZmEdnsVJXQ5UlaatmHZGp00fwCNhGsWk83haiZEMtxxDtiagiq9YJ0BWkINMEl7puGpvShoRjiY3yPppv5CO2OqN3Me76-ql17k5MjPX3H12W-H6MhLCQmC4xaiJAH1b9Y3kuD8JuvHIjVg6Nfj3faf1QH9FhEq1oxCTnBhBdH8uxy4L8aRDC0ma0zAsLu19EO0CPYQQ9SpUjbIG0eTMi8k0wwcLWj02ym71X1k35jXmFXbQR9f4gKBosACZ8SLh2wtUVx-rET9FlxHvx93BvQhYqqlIH6TZ2iWOF7CmxG15waUUfdvhB8bRm5-ejShxkdbsRbfeCNZerL8VxdY8mgzPaootGEQ78ytmfGyNo3KmNnjy5jS0NHWJmdYD2BXwkH7B7WYK6WuvPWSYHI7gsq1b31gZfDDduf-2A7EX-k4HbBm5JAQ6ahkMr-23fpaAX02uDzrRg2LImmM0CO8_AJQD6CdLxmuJ_2A7N41uFfEU3x8B9Hvi1RmM2mxGR2u4P8dqwu2tvSeVcO30A0Ge0YiYw_dZ6WirPfZPjCvWkzHWC3SP0BHUWv7y43XyigVuiFGLSb20V7MAFdKJqK_8p4s8g2CEnM9E0hI7HWFqkPWnTA2w-8SDgTWfNdnEkTo6CPCrYf8pOY0s1uc0iW2Le0HpYIvyWfSrWaY911fI0xf2wCaQI-MoLenw4w0ecYNl0n6CHAHZSUt858-3TkvSQqlm-7Rjw5bRzaUvEtRovUpMOjLJU2WFEsZ1tiFKBF4B8CxbA0rFNzXXGDGMZLp49SjiDg8Q96G2uYWsaYMY5U0CrgYHwkLZ1YGJb230a9cyv4Bfr18qBiQt3vO2qnBPRevH8-8YUmNB81ds_0Cl8CRCtq2njIcXw9m9Dgm3TMyLORZISpvC2hQLevrPPot3fEDrur-6HBDsu4c2XDimD3jHxyIVRWEEnclqewdW6ISucuTMWWPSrG7zrnlplnG01YhiwhL1tJJKf5C5T0F-9oNklu8Lk7S1H4Fs2242KWl2nppCkAJIP7_2tw8G0S8BR13bDemxakboj-LXQbIBRvnJ2CtetFou8hy4MwJ686314rm2Vn08uLNCyj2E3wHcwklxyh1eC7kcAD73q_e205RlZtyH9TKEfXOEyHO_k1jzTao5DvVdZ8pxyQ3AvWzay3Q_3NbXey7er6W_zioQ12v4CdTm7seNFRY7olmDrHl0rn1p5uXG0lsdX5huK0Of6r1mf4pYOWTEaoZwJpZwcKb9qWYYADcGI43ZQtMMFXiiiEqx6f2SQcKhh0n0O3jyWa7WniWARqdHokaKLh1eSC4opZOHZDn0RzkZcuVNRWrZ5_55P_1KFklFtHQMvSOmfnYspNohFIXvYMuQvastC6wpq_VEOyOkn0L-cdnbiOU_jW-m0o3tUa2CvKtt67JOGmfiWTO6CER0wgAesICfOMUF4c5Ml8W0b1zdYuqaaSef8va3LX2SbxcMCI02bsH-xL1kFfHHLNkcrX5sZd4PqByNWcVpUmGZxLbu3ryB4Z_neRo5ETlm7JfM86dcVdme3GNcDg1kXRgCGfebjbQFs2LwMF6UHT0kGENcTI1CVImFkm2CNWqYgVycBGB9nwtPa3CpDvJspJKN5A9nBMF0G7N61MNFaXONRuD8p38e6Sqt0oDioV1NoCIfmQ7FK9iwd4eEpZDbATvt0CblckTDjLVOxu6_26suMXjfghuG_oIsUYW3otkJSiE3gNuPCjmCIDYjjWRD1oWVJZn8pNR6TuVsrFEdq2RuHkx-jwnlObemz3E9OJ_u_itn3PJdKVGJIEwa5ogFl78hSZvNiCKXy3kmuSESLj7IvJG5AgypLClxLH3IK7frT8qkiIZILUQSsiC9EtkLTgi3WDFsBbWaK0ok5yCyJ_GKD6cGxfLqNievt775l0SZ3kpMktWpnQqpLmUgtY1sIs3vjTdTMUGzXpHUYGQopP5TnMiSDYVyT9hIxWK-KbWOm2f7cNMljSRJ8DL95eKgi9p96AbVx0zWfaziv8AXa7PpAhlWXBMldQvrvWtobfdPb8fY9N6j9lJ4fC0JGbgLlbV6rvdplUOMbBJAGC_8tqs01S357FLKQtWmFcEGW3Yz_z5WnET9xBf8tdsY381NhPTz41rHxnIv3p4WI3zRu6VgY2wMTtgWJlIQZisvfQ-SH8vFc66w3XdTw8GQZWybwWeJpjIDk6EC_P3HqsV4hiZovktx7z61N99fINlV_0Gs2mIRAPpXssjUWfW9YcitT7wBtff5c9ebfXQ0TSYgnfU5i4l3xc2kONkOgkqYLyfwfZ4mijqbDRVkoOscyaOV1RY-zjeHD6j7TgMkK9Ytkl7JGmNHRs51dxIggZWySIc0MK35sWZTXv6ha3gBTtD9jmVt5881IvGRUvSGLqmGSbccfZvg2bEIG5-_NbTU2LNCEsWtxAcovvM9NKqV3ONUMMhLFZDaTmTmwDWhl8evKg070eVdBxCbgbEj5BYF5j13RDzLrhHvsO8OzRpnf7Dt200fzZZomjqWHkZw_ApOeeqYMSDTj4tVZjUjfdWOy-iQx8R9NM4edLsR6bN3lfH2u8VkxMSLnF2yiD_XebjjSeWkwd40EKc20-VzIfP7Z7uKTuVlQCnqiiRvK3ME1As-NW8DH2NkFBuuIMT9a7DzY9p0_GXRdwipjxUX3jGeq73NiSQFWMQ0YvaosRe_AYLuQokPxHYVHQPNZuHINRlCCdePeloXo_Sn5caNGnLcKXeswKDekjLbK-6FOMELe3kyeQrQ2J3cgD6aO5oX2ptLNWNQ78ey-Xs3eB0sgIQNZ5Z3SpBZq8AYmEhR4oMI8sCZvY-n0UHMe47HymWombtlhLPOvO5a8bXZz98VTyYldzSIv-L0a_cRu-E7ax_V9J73-rXI2iaSZmkxlIVB888s9DGr7olr3tDkkVJhubQgybW65DTWZ9VBwq5GxAti6byYUARi0_3PKDkN7b9XRrT5pN5QdwnGhBcN1aTKsOsIuBPzIuli_ZN4l53f_OS5mrHn_rM3B1lo81MSevNf0wgw0ZKiKGYD03hdTR4rioYfjaC6BPspK0J4Yl2C151TSmq86JyiBnljTU0Q8JtFQ1Hmnqw5Ql8YLTskBYu0UtQT5wraauV-2QDKOL8PnxYtV_IQ6osbUuI-NQ8T8DFvLeqP_ZOYDcOsSzHgMGLsKw9yUcKdz_sczOtLx5VZhY_ognaS5l9L6c0RiwLf5gjxNw6sbK9E2duysMLk488NEpKfclQlifpfegvUpl8-Jtzr4wT5khm9NojkE64uExHOnHZSAMmJlEE7YQQ79MeODmHL82fgBjYBvRrEw0l2M0QfkC9eFjs0_W4xg8NC0pM37oJMLHM-5z2Mxdd5PEUz8yRVL6edTPeo3kKacg-iIzKQavgJCckI6_UKJQIeLSbm0SIi4NPcIvsdKaO2hIhaSpl9G1tDYJJjKJH7MZHbA0k44aiqOwEUhiBo0lHFw3YY89S-RSKQstDui4V4ZFO0OrMk7oh7bCmBtu2wGH7o-5FpQur8az97LgvjliqQbJRGTxFVZPAf5uZfjfzzwkMgPu28LwTPhxe5MhnFj5rQFq1g-FPToy-EkyjSQY5CO9DsOkmVKha1SGVTbt4mFAeQOUSOVfeB-IA-rQplk5EQpAguur-AtHZZRYhx30OYSPF2CoMusPIr2_pMdhWYUkWzrOFD4wGtm5HyiCz0fH3n1QsXw3Mt31fW-U5ZZOoeMkm6YigRZuviejrdSE1a51QZ2eavFnRCJVms73epnMOecDZOLcGSYpI3ReqUXY7nYabP_2cUMEogM0NNbVv01JU8QUphO5hAG__jh9yAKb5wnya3GGpTXtvcsiSyUKPs6d86hdZsfPV7OuUcQBqdL3muSFAEfM_vwj2pGx-4B3n2pDeVkY1XFj_mostG5j2Adqk9RAXVLWaA0hZGuHzL4vqMOx7eDWfnABYAN4ziTC6qKrMjS-9gcBpew8jQkg4tG8EIyE3_a_Bo-dzV08-Q1EZ1Iu5x4xJBbhnQ2tZhccloVMV9_2XXT0PVMKJqu_hI6utJzOomhDWx-wXwpW3frrJtdNMUoYJ7RTHDeUqi0ANc9Hzd_Hwz77oTulcHJMygjpvPQWyexh9hj30y6eDDkD8bLH77L_30hsalu9rjpH6z8tlBjctZTQKeUPpjYVHvjx7xjUVY0xVvn66mzS4mmPOw-kRNFEnrIyDMfNdqyro9vXEdmUkleUdrU70RhEe4feCrtmvv7nZEh5vF_GjxDt5rzZW-em2DLkQ5SAaBg6_H4_TpSKMT4tsBSLzVfQ7mBmLG7gtJIqGEMyxQL6ua-PLG-oLSrMwuLlsEhnUjqv59fC3RJdXo_uMwe65lZwo-3_9lL8a_gpMWxUsUp85l2npHPi0CO0NPqiAhDnjLB0h7rJf2XiHtOt-fysBlUNeieOgPfZNsoGb3VUAaWmkY8xzeX33etStE85OcdhoTMBJB01tqoAgRaj0zwj52JMzAg4Cd3qDtMgzGTcVvyr4xeF7pfketybl3gfUA_6qQlPLZ5xDt2LMh2ZuDlAQZYGwds3UOY-dMwYAedu8zddHvXrdeaRE6JvEkq4qh-yZ3xUKVpe_isWJOwjOKqQusjZAbWshnlacjInusEkozJTp-7X1O1LNz2vjoFy6mcvlDKtbBn6DkljMWo9LAacPDo1sVo25ivCtLVVVpSl-v7t3CB6W2tT5Bb6n3ifhuLAJHtRIYg6UUwPFpyqtbkeAxqYTUzaq1MbRVY9NRT3s9cxj8TzvZnKLTbPOtUC6-lrCfVeVhnscWheRjct-6piCkWYxJRXdi6xc_LtjPLDAhds4j-XilE6OfpxRT3fL48i8t-8bomFso0w2iFMtIBKxViUrRWJtmPowLwtOHGxmjTvghUAmbTLgtTfoU1AOuTLLksw5LYdmQLTzoSxLDsGzQdVTcFBpUssAgR79m-orYqbuHl2_NVjjQUXLzkm_kMXxIxVYEo8JGf-S43lDXmSe60fhvrElXrIhgUmy83A9L427NklUIjKGXSOQuc1JPary_AboTvaGh41lzLkpsIiGYd1y4IBs8y9xflSkwkTlX6MRAe9EIKQVPTMtJou4eDdebM6jlffjrivdYQ_f5MhQ-v_0G00]--></g></svg>