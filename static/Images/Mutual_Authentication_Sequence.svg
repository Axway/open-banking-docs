<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="826px" preserveAspectRatio="none" style="width:1069px;height:826px;background:#FFFFFF;" version="1.1" viewBox="0 0 1069 826" width="1069px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="534" y="27.9951">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="534" y="44.292">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="534" y="60.5889">&#160;</text><rect fill="#6FA8DC" height="737.9141" style="stroke:#181818;stroke-width:0.5;" width="300" x="206" y="75.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="109" x="299" y="87.9575">Amplify Fusion</text><rect fill="#94C47D" height="737.9141" style="stroke:#181818;stroke-width:0.5;" width="214" x="528" y="75.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203" x="531" y="87.9575">Identity and Access Control</text><rect fill="#D5A6BD" height="737.9141" style="stroke:#181818;stroke-width:0.5;" width="206" x="857" y="75.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195" x="860" y="87.9575">Core Banking Applications</text><rect fill="none" height="346.8594" style="stroke:#000000;stroke-width:1.5;" width="497.5" x="200" y="339.4141"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="142.6172" y2="819.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="246" x2="246" y1="142.6172" y2="819.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="448" x2="448" y1="142.6172" y2="819.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="634.5" x2="634.5" y1="142.6172" y2="819.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="799" x2="799" y1="142.6172" y2="819.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="959.5" x2="959.5" y1="142.6172" y2="819.8047"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="5" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="28.5" y="115.0186">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="12" y="131.3154">Recipient</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="210" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="236" y="115.0186">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="217" y="131.3154">Gateway</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="395" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="402" y="115.0186">Core Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="412" y="131.3154">Connector</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="582.5" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="589.5" y="115.0186">Authorization</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="613" y="131.3154">Server</text><rect fill="#E2E2F0" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="758" y="78.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="776" y="98.7217">Market</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="765" y="115.0186">Certificate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="769" y="131.3154">Authority</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="923.5" y="95.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="932" y="115.0186">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="930.5" y="131.3154">Systems</text><path d="M49,157.6172 L49,197.6172 L439,197.6172 L439,167.6172 L429,157.6172 L49,157.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M429,157.6172 L429,167.6172 L439,167.6172 L429,157.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="55" y="174.6841">This diagram shows the specifics of mutual authentication</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="55" y="189.8169">as implemented in the open banking accelerator.</text><polygon fill="#181818" points="234.5,220.0156,244.5,224.0156,234.5,228.0156,238.5,224.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="44.5" x2="240.5" y1="224.0156" y2="224.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="51.5" y="218.9497">Request protected endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="288.5" y1="253.1484" y2="253.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="253.1484" y2="266.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="247.5" x2="288.5" y1="266.1484" y2="266.1484"/><polygon fill="#181818" points="257.5,262.1484,247.5,266.1484,257.5,270.1484,253.5,266.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="253.5" y="248.0825">Validate certificate chain</text><polygon fill="#181818" points="787.5,291.2813,797.5,295.2813,787.5,299.2813,791.5,295.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="793.5" y1="295.2813" y2="295.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="253.5" y="290.2153">Check certificate status (OCSP/CRL)</text><polygon fill="#181818" points="257.5,320.4141,247.5,324.4141,257.5,328.4141,253.5,324.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="251.5" x2="798.5" y1="324.4141" y2="324.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="263.5" y="319.3481">Response</text><path d="M200,339.4141 L264,339.4141 L264,346.5469 L254,356.5469 L200,356.5469 L200,339.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="346.8594" style="stroke:#000000;stroke-width:1.5;" width="497.5" x="200" y="339.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="215" y="352.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="206" x="279" y="351.6245">[Certificate binding is enforced]</text><path d="M251,361.5469 L251,465.5469 L540,465.5469 L540,371.5469 L530,361.5469 L251,361.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M530,361.5469 L530,371.5469 L540,371.5469 L530,361.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="257" y="378.6138">Binding the Access Token to a given client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="257" y="393.7466">certificate is enforced through FAPI which</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="257" y="408.8794">references</text><a href="https://datatracker.ietf.org/doc/html/rfc8705" target="_top" title="https://datatracker.ietf.org/doc/html/rfc8705" xlink:actuate="onRequest" xlink:href="https://datatracker.ietf.org/doc/html/rfc8705" xlink:show="new" xlink:title="https://datatracker.ietf.org/doc/html/rfc8705" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="60" x="329" y="408.8794">RFC 8705</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="389" y="408.8794">.</text><line style="stroke:#000000;stroke-width:0.5;" x1="257" x2="257" y1="413.9453" y2="413.9453"/><line style="stroke:#000000;stroke-width:0.5;" x1="257" x2="257" y1="413.9453" y2="413.9453"/><line style="stroke:#000000;stroke-width:0.5;" x1="257" x2="257" y1="413.9453" y2="413.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="257" y="428.0122">To support this the API Gateway uses the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="257" y="443.145">JWT claims to retrieve the stored</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="257" y="458.2778">certificate fingerprint.</text><polygon fill="#181818" points="623,488.4766,633,492.4766,623,496.4766,627,492.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="629" y1="492.4766" y2="492.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="253.5" y="487.4106">Call JWKS Endpoint to validate JWT access token</text><polygon fill="#181818" points="257.5,517.6094,247.5,521.6094,257.5,525.6094,253.5,521.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="251.5" x2="634" y1="521.6094" y2="521.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="263.5" y="516.5435">Return JWKS</text><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="288.5" y1="550.7422" y2="550.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="550.7422" y2="563.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="247.5" x2="288.5" y1="563.7422" y2="563.7422"/><polygon fill="#181818" points="257.5,559.7422,247.5,563.7422,257.5,567.7422,253.5,563.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="253.5" y="545.6763">Get claims from JWT</text><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="288.5" y1="608.0078" y2="608.0078"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="608.0078" y2="621.0078"/><line style="stroke:#181818;stroke-width:1.0;" x1="247.5" x2="288.5" y1="621.0078" y2="621.0078"/><polygon fill="#181818" points="257.5,617.0078,247.5,621.0078,257.5,625.0078,253.5,621.0078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="253.5" y="587.8091">Calculate certificate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="253.5" y="602.9419">fingerprint</text><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="288.5" y1="665.2734" y2="665.2734"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="288.5" y1="665.2734" y2="678.2734"/><line style="stroke:#181818;stroke-width:1.0;" x1="247.5" x2="288.5" y1="678.2734" y2="678.2734"/><polygon fill="#181818" points="257.5,674.2734,247.5,678.2734,257.5,682.2734,253.5,678.2734" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="253.5" y="645.0747">Compare stored and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="253.5" y="660.2075">calculated fingerprints</text><polygon fill="#181818" points="436.5,710.4063,446.5,714.4063,436.5,718.4063,440.5,714.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.5" x2="442.5" y1="714.4063" y2="714.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="253.5" y="709.3403">Request protected endpoint</text><polygon fill="#181818" points="948,739.5391,958,743.5391,948,747.5391,952,743.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="448.5" x2="954" y1="743.5391" y2="743.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="455.5" y="738.4731">Request backend data or service</text><polygon fill="#181818" points="459.5,768.6719,449.5,772.6719,459.5,776.6719,455.5,772.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="453.5" x2="959" y1="772.6719" y2="772.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="465.5" y="767.606">Response</text><polygon fill="#181818" points="257.5,797.8047,247.5,801.8047,257.5,805.8047,253.5,801.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="251.5" x2="447.5" y1="801.8047" y2="801.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="263.5" y="796.7388">Response</text><!--SRC=[VLHHJzim47xthpYD1xO7A9FOsD0qAKqfWerHfTNGH11odKjZDR4p-mBhn8_VEIbhMYJU4lk-k- - - -ywagKH8JMg4gAKZhNGj3S6RaIIPcWJvNwEXDo0zZ18XvlOFH5LTwdm5uyPhQs3lupZwD8gtyT7a8ZNdal1Hhbem7zoVHxEpc-ZNTcHi7S9GcgKsYzJ4rXXKP5qBYeUnG9C1L-rANsHCHjCA99z6Ig7d86l8sHBsFX-huvDiXqT3XNNwhoIccfefkWViSbz4LvlSMvWhwPP8p0NvCDUAkqZDEX5rtSIHs8SjqENq-WVSu3mrtt05K-maknwExYzllaqxzlrM8QfPHTNoyh2NVP0VvplS_uioNNd2odSwJYVJoJshkI5Vw0mXjvR2txvd3AUH5MIOowQaCUlpGrO8YPrRic8JCBH_9ZBB0fltHq8OImXEBme2cuTfpmhj8TDo4O9zOHyzK87WQxO5w-93MDLG8qkGB4yOJTUGOAAQNO8Lds46shH0MwE1-Rf_oTChqKcUzM7RIoWln2Y1Wwzzjvn2WhyRz0IrumWLyd5uRRKXqOjx0VifIvtnx41jvWYgaDhimkBe5E82rN8hr9EaniFRwtWw6SJ9ztTRi2y71oqkGL_p19cvB0bwbe6vDgsqh26Qt3g5sQx6_QKOhiE3K6jdp-oI1ICB4XRwWJzL6PPHz5dsiZFKsMPHm9ZpmcEXLI4SvkZGS3gulIs8Qdyw6B0gafnKItI76Ya_j6unoAmQ55IL0vUhJoT77o0Pnn0-xkuEnTFJavXPy4rTMqTSI7TM28NMMmwDn_PGNDxCcAdKbG_S7PBJ-82TTNZQJ7IhWvoxHbSxdcVV23ipudNb8ScoXB1FSBPsGAZmy3peK5Xsqb6GxiN0sYG9KkDCc-PL_vmZFRUHErk5xA_6CpdLb3k6IqsllTVXjkAj_2yHFt2fKSyfixvAlbM9xVP297ulNrqNlc_hFhyXc-1vS0Dd3TO0wy3pGwaLjeYWt1PaxVWNwz1LNz_-0m00]--></g></svg>