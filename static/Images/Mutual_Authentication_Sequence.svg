<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="832px" preserveAspectRatio="none" style="width:935px;height:832px;background:#FFFFFF;" version="1.1" viewBox="0 0 935 832" width="935px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="467" y="28.5352">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="467" y="45.0234">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="5" x="467" y="61.5117">&#160;</text><rect fill="#6FA8DC" height="742.7402" style="stroke:#181818;stroke-width:0.5;" width="423" x="202" y="76.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="335" y="89.0332">Amplify Open Banking</text><rect fill="#94C47D" height="742.7402" style="stroke:#181818;stroke-width:0.5;" width="188" x="741" y="76.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="178" x="744" y="89.0332">Core Banking Applications</text><rect fill="none" height="349.3477" style="stroke:#000000;stroke-width:1.5;" width="435" x="196" y="341.6152"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="143.752" y2="825.2051"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="241" x2="241" y1="143.752" y2="825.2051"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="439.5" x2="439.5" y1="143.752" y2="825.2051"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="566" x2="566" y1="143.752" y2="825.2051"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="683" x2="683" y1="143.752" y2="825.2051"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="834.5" x2="834.5" y1="143.752" y2="825.2051"/><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="5" y="95.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="28" y="116.3105">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="12" y="132.7988">Recipient</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="206" y="95.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="230.5" y="116.3105">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="213" y="132.7988">Gateway</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="386.5" y="95.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="393.5" y="116.3105">Core Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="403.5" y="132.7988">Connector</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="512" y="95.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="519" y="116.3105">Authorization</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="545" y="132.7988">Server</text><rect fill="#E2E2F0" height="63.4648" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="641" y="79.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="659.5" y="99.8223">Market</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="648" y="116.3105">Certificate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="651" y="132.7988">Authority</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="800.5" y="95.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="807.5" y="116.3105">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="807.5" y="132.7988">Systems</text><path d="M48,158.752 L48,198.752 L439,198.752 L439,168.752 L429,158.752 L48,158.752 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M429,158.752 L429,168.752 L439,168.752 L429,158.752 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370" x="54" y="176.3203">This diagram shows the specifics of mutual authentication</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="54" y="191.6309">as implemented in the open banking accelerator.</text><polygon fill="#181818" points="229.5,221.6836,239.5,225.6836,229.5,229.6836,233.5,225.6836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="235.5" y1="225.6836" y2="225.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="50.5" y="220.9414">Request protected endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="283.5" y1="254.9941" y2="254.9941"/><line style="stroke:#181818;stroke-width:1.0;" x1="283.5" x2="283.5" y1="254.9941" y2="267.9941"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="283.5" y1="267.9941" y2="267.9941"/><polygon fill="#181818" points="252.5,263.9941,242.5,267.9941,252.5,271.9941,248.5,267.9941" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="248.5" y="250.252">Validate certificate chain</text><polygon fill="#181818" points="671,293.3047,681,297.3047,671,301.3047,675,297.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="677" y1="297.3047" y2="297.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="248.5" y="292.5625">Check certificate status (OCSP/CRL)</text><polygon fill="#181818" points="252.5,322.6152,242.5,326.6152,252.5,330.6152,248.5,326.6152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="246.5" x2="682" y1="326.6152" y2="326.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="258.5" y="321.873">Response</text><path d="M196,341.6152 L258,341.6152 L258,348.9258 L248,358.9258 L196,358.9258 L196,341.6152 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="349.3477" style="stroke:#000000;stroke-width:1.5;" width="435" x="196" y="341.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="211" y="355.1836">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="180" x="273" y="354.25">[Certificate binding is enforced]</text><path d="M246,363.9258 L246,468.9258 L534,468.9258 L534,373.9258 L524,363.9258 L246,363.9258 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M524,363.9258 L524,373.9258 L534,373.9258 L524,363.9258 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="252" y="381.4941">Binding the Access Token to a given client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="252" y="396.8047">certificate is enforced through FAPI which</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="252" y="412.1152">references</text><a href="https://datatracker.ietf.org/doc/html/rfc8705" target="_top" title="https://datatracker.ietf.org/doc/html/rfc8705" xlink:actuate="onRequest" xlink:href="https://datatracker.ietf.org/doc/html/rfc8705" xlink:show="new" xlink:title="https://datatracker.ietf.org/doc/html/rfc8705" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="60" x="321" y="412.1152">RFC 8705</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="381" y="412.1152">.</text><line style="stroke:#000000;stroke-width:0.5;" x1="252" x2="252" y1="416.8574" y2="416.8574"/><line style="stroke:#000000;stroke-width:0.5;" x1="252" x2="252" y1="416.8574" y2="416.8574"/><line style="stroke:#000000;stroke-width:0.5;" x1="252" x2="252" y1="416.8574" y2="416.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="252" y="431.4258">To support this the API Gateway uses the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="252" y="446.7363">JWT claims to retrieve the stored</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="252" y="462.0469">certificate fingerprint.</text><polygon fill="#181818" points="554.5,492.0996,564.5,496.0996,554.5,500.0996,558.5,496.0996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="560.5" y1="496.0996" y2="496.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="248.5" y="491.3574">Call JWKS Endpoint to validate JWT access token</text><polygon fill="#181818" points="252.5,521.4102,242.5,525.4102,252.5,529.4102,248.5,525.4102" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="246.5" x2="565.5" y1="525.4102" y2="525.4102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="258.5" y="520.668">Return JWKS</text><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="283.5" y1="554.7207" y2="554.7207"/><line style="stroke:#181818;stroke-width:1.0;" x1="283.5" x2="283.5" y1="554.7207" y2="567.7207"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="283.5" y1="567.7207" y2="567.7207"/><polygon fill="#181818" points="252.5,563.7207,242.5,567.7207,252.5,571.7207,248.5,567.7207" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="248.5" y="549.9785">Get claims from JWT</text><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="283.5" y1="612.3418" y2="612.3418"/><line style="stroke:#181818;stroke-width:1.0;" x1="283.5" x2="283.5" y1="612.3418" y2="625.3418"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="283.5" y1="625.3418" y2="625.3418"/><polygon fill="#181818" points="252.5,621.3418,242.5,625.3418,252.5,629.3418,248.5,625.3418" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="248.5" y="592.2891">Calculate certificate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="248.5" y="607.5996">fingerprint</text><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="283.5" y1="669.9629" y2="669.9629"/><line style="stroke:#181818;stroke-width:1.0;" x1="283.5" x2="283.5" y1="669.9629" y2="682.9629"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="283.5" y1="682.9629" y2="682.9629"/><polygon fill="#181818" points="252.5,678.9629,242.5,682.9629,252.5,686.9629,248.5,682.9629" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="248.5" y="649.9102">Compare stored and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="248.5" y="665.2207">calculated fingerprints</text><polygon fill="#181818" points="427.5,715.2734,437.5,719.2734,427.5,723.2734,431.5,719.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.5" x2="433.5" y1="719.2734" y2="719.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="248.5" y="714.5313">Request protected endpoint</text><polygon fill="#181818" points="823,744.584,833,748.584,823,752.584,827,748.584" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="439.5" x2="829" y1="748.584" y2="748.584"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="446.5" y="743.8418">Request backend data or service</text><polygon fill="#181818" points="450.5,773.8945,440.5,777.8945,450.5,781.8945,446.5,777.8945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="444.5" x2="834" y1="777.8945" y2="777.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="456.5" y="773.1523">Response</text><polygon fill="#181818" points="252.5,803.2051,242.5,807.2051,252.5,811.2051,248.5,807.2051" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="246.5" x2="438.5" y1="807.2051" y2="807.2051"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="258.5" y="802.4629">Response</text><!--SRC=[VLJHJjj047o_hrZ10-q3X4fjeQYgv3Y02WKY9oggQeGkvtLyYdtdtgq3L7nyz-oaE47YpJxlpixEp9aqbGYfIOqGjNIabQwb8TWPIPAfIP3VDHhQ0UbXb0WniuyGLNMfyoUugT70K9g5DdFO_NmM7O_YJPHe_3qrvvBmGJwr47nmVnvDJs-ZNvkLiNMunafDR8r1HTQrJV5m6xQXmZhzLvAsJ7s2RebTwVVeIg39W6bkBNGbtGA9eP4FSwsOL6fMGDIHYoEn1njD5vERQxZ5MMekyGacsEbmCnpTNznUJZer-imXgbaQrVBoiFlbe_fub6to-B_ZvCaJLhwJPJAUZEzPd1VoXSuGSciflErvxc4OMK66kMnAEhE6hcM5aDYP9IjU2eRsSIopBB3vS2Y4iOJWzBmWi7cmS5fe3vcMyr3i2_lWWGe4NxFNh8iFPLL3ZIn1iZni_ceXmKGrMuyLds46shIDDgHWjjfVAeKbEidM7RIxXF52Z1BO_zOt_mGI_DEW9wWTLwY0n-MrrOP4h-vLsqzPweoz0_NY8wX2QhFT5aSd41Ue5XkbdYGr7jxTn9Fn84v-lDze-xg_t_Obw6jsa9dBag0N6PXfqqhB6gB9hLEORMlSp_XmLHw4YbWRxs5g5omOMP0mrqj-L6MuOQBFieVEhSusymBE61SU2gqAuJ17XuRXuFVlWgZs9uC1goB9IRL0Tw2HyWFhveFCga51LJbmkJe-Elm4oLaCuU7kxa0yFp-BgGNVrBLrn8Dq5uKmQ7LfeV7O7egBsoapbRhoWRj3SXgNs4M7tMQY6nlal3Mwsh6V_I1iUSJNbKsIPGdXFi7fAW5Xmd9jT1WiE-aeIFVAi1OaGMgSQM7UpCyvqdgDtDageBzPp-HKKsu5BZMzzTvkjnNVolyIIPEbHgqXixvAlbM9u_PA9FxzlNbT-7ixT_qFUIcUXJGmQeW6M0UUVvHQOTiHbDjeMIN-rNNefg- -_WC0]--></g></svg>